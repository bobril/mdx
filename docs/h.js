(function(e){"use strict";var t=function(e){if(!("default"in e))return e;var t=e.default;if(typeof t==="object"||typeof t==="function"){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&o!=="default"&&(t[o]=e[o])}return t};var o=function(){var o={};var r={exports:o};(function e(t,n){if(typeof o==="object"&&typeof r==="object")r.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else if(typeof o==="object")o["layoutBase"]=n();else t["layoutBase"]=n()})(this,function(){return function(e){var t={};function o(r){if(t[r]){return t[r].exports}var n=t[r]={i:r,l:!1,exports:{}};e[r].call(n.exports,n,n.exports,o);n.l=!0;return n.exports}o.m=e;o.c=t;o.i=function(e){return e};o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})};o.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};o.d(t,"a",t);return t};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";return o(o.s=28)}([function(e,t,o){"use strict";function r(){}r.QUALITY=1;r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1;r.DEFAULT_INCREMENTAL=!1;r.DEFAULT_ANIMATION_ON_LAYOUT=!0;r.DEFAULT_ANIMATION_DURING_LAYOUT=!1;r.DEFAULT_ANIMATION_PERIOD=50;r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1;r.DEFAULT_GRAPH_MARGIN=15;r.NODE_DIMENSIONS_INCLUDE_LABELS=!1;r.SIMPLE_NODE_SIZE=40;r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2;r.EMPTY_COMPOUND_NODE_SIZE=40;r.MIN_EDGE_LENGTH=1;r.WORLD_BOUNDARY=1e6;r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3;r.WORLD_CENTER_X=1200;r.WORLD_CENTER_Y=900;e.exports=r},function(e,t,o){"use strict";var r=o(2);var n=o(8);var i=o(9);function a(e,t,o){r.call(this,o);this.isOverlapingSourceAndTarget=!1;this.vGraphObject=o;this.bendpoints=[];this.source=e;this.target=t}a.prototype=Object.create(r.prototype);for(var s in r){a[s]=r[s]}a.prototype.getSource=function(){return this.source};a.prototype.getTarget=function(){return this.target};a.prototype.isInterGraph=function(){return this.isInterGraph};a.prototype.getLength=function(){return this.length};a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget};a.prototype.getBendpoints=function(){return this.bendpoints};a.prototype.getLca=function(){return this.lca};a.prototype.getSourceInLca=function(){return this.sourceInLca};a.prototype.getTargetInLca=function(){return this.targetInLca};a.prototype.getOtherEnd=function(e){if(this.source===e){return this.target}else if(this.target===e){return this.source}else{throw"Node is not incident with this edge"}};a.prototype.getOtherEndInGraph=function(e,t){var o=this.getOtherEnd(e);var r=t.getGraphManager().getRoot();while(!0){if(o.getOwner()==t){return o}if(o.getOwner()==r){break}o=o.getOwner().getParent()}return null};a.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=n.getIntersection(this.target.getRect(),this.source.getRect(),e);if(!this.isOverlapingSourceAndTarget){this.lengthX=e[0]-e[2];this.lengthY=e[1]-e[3];Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX));Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY));this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}};a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX();this.lengthY=this.target.getCenterY()-this.source.getCenterY();Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX));Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY));this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)};e.exports=a},function(e,t,o){"use strict";function r(e){this.vGraphObject=e}e.exports=r},function(e,t,o){"use strict";var r=o(2);var n=o(10);var i=o(13);var a=o(0);var s=o(16);var d=o(5);function l(e,t,o,a){o==null&&a==null&&(a=t);r.call(this,a);e.graphManager!=null&&(e=e.graphManager);this.estimatedSize=n.MIN_VALUE;this.inclusionTreeDepth=n.MAX_VALUE;this.vGraphObject=a;this.edges=[];this.graphManager=e;if(o!=null&&t!=null)this.rect=new i(t.x,t.y,o.width,o.height);else this.rect=new i}l.prototype=Object.create(r.prototype);for(var h in r){l[h]=r[h]}l.prototype.getEdges=function(){return this.edges};l.prototype.getChild=function(){return this.child};l.prototype.getOwner=function(){return this.owner};l.prototype.getWidth=function(){return this.rect.width};l.prototype.setWidth=function(e){this.rect.width=e};l.prototype.getHeight=function(){return this.rect.height};l.prototype.setHeight=function(e){this.rect.height=e};l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2};l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2};l.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)};l.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)};l.prototype.getRect=function(){return this.rect};l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)};l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2};l.prototype.setRect=function(e,t){this.rect.x=e.x;this.rect.y=e.y;this.rect.width=t.width;this.rect.height=t.height};l.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2;this.rect.y=t-this.rect.height/2};l.prototype.setLocation=function(e,t){this.rect.x=e;this.rect.y=t};l.prototype.moveBy=function(e,t){this.rect.x+=e;this.rect.y+=t};l.prototype.getEdgeListToNode=function(e){var t=[];var o=this;o.edges.forEach(function(r){if(r.target==e){if(r.source!=o)throw"Incorrect edge source!";t.push(r)}});return t};l.prototype.getEdgesBetween=function(e){var t=[];var o=this;o.edges.forEach(function(r){if(!(r.source==o||r.target==o))throw"Incorrect edge source and/or target";(r.target==e||r.source==e)&&t.push(r)});return t};l.prototype.getNeighborsList=function(){var e=new Set;var t=this;t.edges.forEach(function(o){if(o.source==t){e.add(o.target)}else{if(o.target!=t){throw"Incorrect incidency!"}e.add(o.source)}});return e};l.prototype.withChildren=function(){var e=new Set;var t;var o;e.add(this);if(this.child!=null){var r=this.child.getNodes();for(var n=0;n<r.length;n++){t=r[n];o=t.withChildren();o.forEach(function(t){e.add(t)})}}return e};l.prototype.getNoOfChildren=function(){var e=0;var t;if(this.child==null){e=1}else{var o=this.child.getNodes();for(var r=0;r<o.length;r++){t=o[r];e+=t.getNoOfChildren()}}e==0&&(e=1);return e};l.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE){throw"assert failed"}return this.estimatedSize};l.prototype.calcEstimatedSize=function(){if(this.child==null){return this.estimatedSize=(this.rect.width+this.rect.height)/2}else{this.estimatedSize=this.child.calcEstimatedSize();this.rect.width=this.estimatedSize;this.rect.height=this.estimatedSize;return this.estimatedSize}};l.prototype.scatter=function(){var e;var t;var o=-a.INITIAL_WORLD_BOUNDARY;var r=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_X+s.nextDouble()*(r-o)+o;var n=-a.INITIAL_WORLD_BOUNDARY;var i=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_Y+s.nextDouble()*(i-n)+n;this.rect.x=e;this.rect.y=t};l.prototype.updateBounds=function(){if(this.getChild()==null){throw"assert failed"}if(this.getChild().getNodes().length!=0){var e=this.getChild();e.updateBounds(!0);this.rect.x=e.getLeft();this.rect.y=e.getTop();this.setWidth(e.getRight()-e.getLeft());this.setHeight(e.getBottom()-e.getTop());if(a.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),o=e.getBottom()-e.getTop();if(this.labelWidth){if(this.labelPosHorizontal=="left"){this.rect.x-=this.labelWidth;this.setWidth(t+this.labelWidth)}else if(this.labelPosHorizontal=="center"&&this.labelWidth>t){this.rect.x-=(this.labelWidth-t)/2;this.setWidth(this.labelWidth)}else this.labelPosHorizontal=="right"&&this.setWidth(t+this.labelWidth)}if(this.labelHeight){if(this.labelPosVertical=="top"){this.rect.y-=this.labelHeight;this.setHeight(o+this.labelHeight)}else if(this.labelPosVertical=="center"&&this.labelHeight>o){this.rect.y-=(this.labelHeight-o)/2;this.setHeight(this.labelHeight)}else this.labelPosVertical=="bottom"&&this.setHeight(o+this.labelHeight)}}}};l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==n.MAX_VALUE){throw"assert failed"}return this.inclusionTreeDepth};l.prototype.transform=function(e){var t=this.rect.x;if(t>a.WORLD_BOUNDARY){t=a.WORLD_BOUNDARY}else t<-a.WORLD_BOUNDARY&&(t=-a.WORLD_BOUNDARY);var o=this.rect.y;if(o>a.WORLD_BOUNDARY){o=a.WORLD_BOUNDARY}else o<-a.WORLD_BOUNDARY&&(o=-a.WORLD_BOUNDARY);var r=new d(t,o);var n=e.inverseTransformPoint(r);this.setLocation(n.x,n.y)};l.prototype.getLeft=function(){return this.rect.x};l.prototype.getRight=function(){return this.rect.x+this.rect.width};l.prototype.getTop=function(){return this.rect.y};l.prototype.getBottom=function(){return this.rect.y+this.rect.height};l.prototype.getParent=function(){if(this.owner==null){return null}return this.owner.getParent()};e.exports=l},function(e,t,o){"use strict";var r=o(0);function n(){}for(var i in r){n[i]=r[i]}n.MAX_ITERATIONS=2500;n.DEFAULT_EDGE_LENGTH=50;n.DEFAULT_SPRING_STRENGTH=.45;n.DEFAULT_REPULSION_STRENGTH=4500;n.DEFAULT_GRAVITY_STRENGTH=.4;n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1;n.DEFAULT_GRAVITY_RANGE_FACTOR=3.8;n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5;n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0;n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0;n.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3;n.COOLING_ADAPTATION_FACTOR=.33;n.ADAPTATION_LOWER_NODE_LIMIT=1e3;n.ADAPTATION_UPPER_NODE_LIMIT=5e3;n.MAX_NODE_DISPLACEMENT_INCREMENTAL=100;n.MAX_NODE_DISPLACEMENT=n.MAX_NODE_DISPLACEMENT_INCREMENTAL*3;n.MIN_REPULSION_DIST=n.DEFAULT_EDGE_LENGTH/10;n.CONVERGENCE_CHECK_PERIOD=100;n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1;n.MIN_EDGE_LENGTH=1;n.GRID_CALCULATION_CHECK_PERIOD=10;e.exports=n},function(e,t,o){"use strict";function r(e,t){if(e==null&&t==null){this.x=0;this.y=0}else{this.x=e;this.y=t}}r.prototype.getX=function(){return this.x};r.prototype.getY=function(){return this.y};r.prototype.setX=function(e){this.x=e};r.prototype.setY=function(e){this.y=e};r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)};r.prototype.getCopy=function(){return new r(this.x,this.y)};r.prototype.translate=function(e){this.x+=e.width;this.y+=e.height;return this};e.exports=r},function(t,o,r){"use strict";var n=r(2);var i=r(10);var a=r(0);var s=r(7);var d=r(3);var l=r(1);var h=r(13);var c=r(12);var u=r(11);function p(e,t,o){n.call(this,o);this.estimatedSize=i.MIN_VALUE;this.margin=a.DEFAULT_GRAPH_MARGIN;this.edges=[];this.nodes=[];this.isConnected=!1;this.parent=e;if(t!=null&&t instanceof s){this.graphManager=t}else t!=null&&t instanceof Layout&&(this.graphManager=t.graphManager)}p.prototype=Object.create(n.prototype);for(var g in n){p[g]=n[g]}p.prototype.getNodes=function(){return this.nodes};p.prototype.getEdges=function(){return this.edges};p.prototype.getGraphManager=function(){return this.graphManager};p.prototype.getParent=function(){return this.parent};p.prototype.getLeft=function(){return this.left};p.prototype.getRight=function(){return this.right};p.prototype.getTop=function(){return this.top};p.prototype.getBottom=function(){return this.bottom};p.prototype.isConnected=function(){return this.isConnected};p.prototype.add=function(e,t,o){if(t==null&&o==null){var r=e;if(this.graphManager==null){throw"Graph has no graph mgr!"}if(this.getNodes().indexOf(r)>-1){throw"Node already in graph!"}r.owner=this;this.getNodes().push(r);return r}else{var n=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(o)>-1)){throw"Source or target not in graph!"}if(!(t.owner==o.owner&&t.owner==this)){throw"Both owners must be this graph!"}if(t.owner!=o.owner){return null}n.source=t;n.target=o;n.isInterGraph=!1;this.getEdges().push(n);t.edges.push(n);o!=t&&o.edges.push(n);return n}};p.prototype.remove=function(e){if(e instanceof d){if(e==null){throw"Node is null!"}if(!(e.owner!=null&&e.owner==this)){throw"Owner graph is invalid!"}if(this.graphManager==null){throw"Owner graph manager is invalid!"}var t=e.edges.slice(),o,r=t.length;for(var n=0;n<r;n++){o=t[n];if(o.isInterGraph){this.graphManager.remove(o)}else{o.source.owner.remove(o)}}var i=this.nodes.indexOf(e);if(i==-1){throw"Node not in owner node list!"}this.nodes.splice(i,1)}else if(e instanceof l){var o=e;if(o==null){throw"Edge is null!"}if(!(o.source!=null&&o.target!=null)){throw"Source and/or target is null!"}if(!(o.source.owner!=null&&o.target.owner!=null&&o.source.owner==this&&o.target.owner==this)){throw"Source and/or target owner is invalid!"}var a=o.source.edges.indexOf(o),s=o.target.edges.indexOf(o);if(!(a>-1&&s>-1)){throw"Source and/or target doesn't know this edge!"}o.source.edges.splice(a,1);o.target!=o.source&&o.target.edges.splice(s,1);var i=o.source.owner.getEdges().indexOf(o);if(i==-1){throw"Not in owner's edge list!"}o.source.owner.getEdges().splice(i,1)}};p.prototype.updateLeftTop=function(){var t=i.MAX_VALUE;var o=i.MAX_VALUE;var r;var n;var a;var s=this.getNodes();var d=s.length;for(var l=0;l<d;l++){var h=s[l];r=h.getTop();n=h.getLeft();t>r&&(t=r);o>n&&(o=n)}if(t==i.MAX_VALUE){return null}if(s[0].getParent().paddingLeft!=e){a=s[0].getParent().paddingLeft}else{a=this.margin}this.left=o-a;this.top=t-a;return new c(this.left,this.top)};p.prototype.updateBounds=function(t){var o=i.MAX_VALUE;var r=-i.MAX_VALUE;var n=i.MAX_VALUE;var a=-i.MAX_VALUE;var s;var d;var l;var c;var u;var p=this.nodes;var g=p.length;for(var f=0;f<g;f++){var _=p[f];t&&_.child!=null&&_.updateBounds();s=_.getLeft();d=_.getRight();l=_.getTop();c=_.getBottom();o>s&&(o=s);r<d&&(r=d);n>l&&(n=l);a<c&&(a=c)}var m=new h(o,n,r-o,a-n);if(o==i.MAX_VALUE){this.left=this.parent.getLeft();this.right=this.parent.getRight();this.top=this.parent.getTop();this.bottom=this.parent.getBottom()}if(p[0].getParent().paddingLeft!=e){u=p[0].getParent().paddingLeft}else{u=this.margin}this.left=m.x-u;this.right=m.x+m.width+u;this.top=m.y-u;this.bottom=m.y+m.height+u};p.calculateBounds=function(e){var t=i.MAX_VALUE;var o=-i.MAX_VALUE;var r=i.MAX_VALUE;var n=-i.MAX_VALUE;var a;var s;var d;var l;var c=e.length;for(var u=0;u<c;u++){var p=e[u];a=p.getLeft();s=p.getRight();d=p.getTop();l=p.getBottom();t>a&&(t=a);o<s&&(o=s);r>d&&(r=d);n<l&&(n=l)}var g=new h(t,r,o-t,n-r);return g};p.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot()){return 1}else{return this.parent.getInclusionTreeDepth()}};p.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE){throw"assert failed"}return this.estimatedSize};p.prototype.calcEstimatedSize=function(){var e=0;var t=this.nodes;var o=t.length;for(var r=0;r<o;r++){var n=t[r];e+=n.calcEstimatedSize()}if(e==0){this.estimatedSize=a.EMPTY_COMPOUND_NODE_SIZE}else{this.estimatedSize=e/Math.sqrt(this.nodes.length)}return this.estimatedSize};p.prototype.updateConnected=function(){var e=this;if(this.nodes.length==0){this.isConnected=!0;return}var t=new u;var o=new Set;var r=this.nodes[0];var n;var i;var a=r.withChildren();a.forEach(function(e){t.push(e);o.add(e)});while(t.length!==0){r=t.shift();n=r.getEdges();var s=n.length;for(var d=0;d<s;d++){var l=n[d];i=l.getOtherEndInGraph(r,this);if(i!=null&&!o.has(i)){var h=i.withChildren();h.forEach(function(e){t.push(e);o.add(e)})}}}this.isConnected=!1;if(o.size>=this.nodes.length){var c=0;o.forEach(function(t){t.owner==e&&c++});c==this.nodes.length&&(this.isConnected=!0)}};t.exports=p},function(e,t,o){"use strict";var r;var n=o(1);function i(e){r=o(6);this.layout=e;this.graphs=[];this.edges=[]}i.prototype.addRoot=function(){var e=this.layout.newGraph();var t=this.layout.newNode(null);var o=this.add(e,t);this.setRootGraph(o);return this.rootGraph};i.prototype.add=function(e,t,o,r,n){if(o==null&&r==null&&n==null){if(e==null){throw"Graph is null!"}if(t==null){throw"Parent node is null!"}if(this.graphs.indexOf(e)>-1){throw"Graph already in this graph mgr!"}this.graphs.push(e);if(e.parent!=null){throw"Already has a parent!"}if(t.child!=null){throw"Already has a child!"}e.parent=t;t.child=e;return e}else{n=o;r=t;o=e;var i=r.getOwner(),a=n.getOwner();if(!(i!=null&&i.getGraphManager()==this)){throw"Source not in this graph mgr!"}if(!(a!=null&&a.getGraphManager()==this)){throw"Target not in this graph mgr!"}if(i==a){o.isInterGraph=!1;return i.add(o,r,n)}else{o.isInterGraph=!0;o.source=r;o.target=n;if(this.edges.indexOf(o)>-1){throw"Edge already in inter-graph edge list!"}this.edges.push(o);if(!(o.source!=null&&o.target!=null)){throw"Edge source and/or target is null!"}if(!(o.source.edges.indexOf(o)==-1&&o.target.edges.indexOf(o)==-1)){throw"Edge already in source and/or target incidency list!"}o.source.edges.push(o);o.target.edges.push(o);return o}}};i.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this){throw"Graph not in this graph mgr"}if(!(t==this.rootGraph||t.parent!=null&&t.parent.graphManager==this)){throw"Invalid parent node!"}var o=[];o=o.concat(t.getEdges());var i,a=o.length;for(var s=0;s<a;s++){i=o[s];t.remove(i)}var d=[];d=d.concat(t.getNodes());var l;a=d.length;for(var s=0;s<a;s++){l=d[s];t.remove(l)}t==this.rootGraph&&this.setRootGraph(null);var h=this.graphs.indexOf(t);this.graphs.splice(h,1);t.parent=null}else if(e instanceof n){i=e;if(i==null){throw"Edge is null!"}if(!i.isInterGraph){throw"Not an inter-graph edge!"}if(!(i.source!=null&&i.target!=null)){throw"Source and/or target is null!"}if(!(i.source.edges.indexOf(i)!=-1&&i.target.edges.indexOf(i)!=-1)){throw"Source and/or target doesn't know this edge!"}var h=i.source.edges.indexOf(i);i.source.edges.splice(h,1);h=i.target.edges.indexOf(i);i.target.edges.splice(h,1);if(!(i.source.owner!=null&&i.source.owner.getGraphManager()!=null)){throw"Edge owner graph or owner graph manager is null!"}if(i.source.owner.getGraphManager().edges.indexOf(i)==-1){throw"Not in owner graph manager's edge list!"}var h=i.source.owner.getGraphManager().edges.indexOf(i);i.source.owner.getGraphManager().edges.splice(h,1)}};i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)};i.prototype.getGraphs=function(){return this.graphs};i.prototype.getAllNodes=function(){if(this.allNodes==null){var e=[],t=this.getGraphs(),o=t.length;for(var r=0;r<o;r++){e=e.concat(t[r].getNodes())}this.allNodes=e}return this.allNodes};i.prototype.resetAllNodes=function(){this.allNodes=null};i.prototype.resetAllEdges=function(){this.allEdges=null};i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null};i.prototype.getAllEdges=function(){if(this.allEdges==null){var e=[],t=this.getGraphs(),o=t.length;for(var r=0;r<t.length;r++){e=e.concat(t[r].getEdges())}e=e.concat(this.edges);this.allEdges=e}return this.allEdges};i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation};i.prototype.setAllNodesToApplyGravitation=function(e){if(this.allNodesToApplyGravitation!=null){throw"assert failed"}this.allNodesToApplyGravitation=e};i.prototype.getRoot=function(){return this.rootGraph};i.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this){throw"Root not in this graph mgr!"}this.rootGraph=e;e.parent==null&&(e.parent=this.layout.newNode("Root node"))};i.prototype.getLayout=function(){return this.layout};i.prototype.isOneAncestorOfOther=function(e,t){if(!(e!=null&&t!=null)){throw"assert failed"}if(e==t){return!0}var o=e.getOwner();var r;do{r=o.getParent();if(r==null){break}if(r==t){return!0}o=r.getOwner();if(o==null){break}}while(!0);o=t.getOwner();do{r=o.getParent();if(r==null){break}if(r==e){return!0}o=r.getOwner();if(o==null){break}}while(!0);return!1};i.prototype.calcLowestCommonAncestors=function(){var e;var t;var o;var r;var n;var i=this.getAllEdges();var a=i.length;for(var s=0;s<a;s++){e=i[s];t=e.source;o=e.target;e.lca=null;e.sourceInLca=t;e.targetInLca=o;if(t==o){e.lca=t.getOwner();continue}r=t.getOwner();while(e.lca==null){e.targetInLca=o;n=o.getOwner();while(e.lca==null){if(n==r){e.lca=n;break}if(n==this.rootGraph){break}if(e.lca!=null){throw"assert failed"}e.targetInLca=n.getParent();n=e.targetInLca.getOwner()}if(r==this.rootGraph){break}if(e.lca==null){e.sourceInLca=r.getParent();r=e.sourceInLca.getOwner()}}if(e.lca==null){throw"assert failed"}}};i.prototype.calcLowestCommonAncestor=function(e,t){if(e==t){return e.getOwner()}var o=e.getOwner();do{if(o==null){break}var r=t.getOwner();do{if(r==null){break}if(r==o){return r}r=r.getParent().getOwner()}while(!0);o=o.getParent().getOwner()}while(!0);return o};i.prototype.calcInclusionTreeDepths=function(e,t){if(e==null&&t==null){e=this.rootGraph;t=1}var o;var r=e.getNodes();var n=r.length;for(var i=0;i<n;i++){o=r[i];o.inclusionTreeDepth=t;o.child!=null&&this.calcInclusionTreeDepths(o.child,t+1)}};i.prototype.includesInvalidEdge=function(){var e;var t=[];var o=this.edges.length;for(var r=0;r<o;r++){e=this.edges[r];this.isOneAncestorOfOther(e.source,e.target)&&t.push(e)}for(var r=0;r<t.length;r++){this.remove(t[r])}return!1};e.exports=i},function(e,t,o){"use strict";var r=o(12);function n(){}n.calcSeparationAmount=function(e,t,o,r){if(!e.intersects(t)){throw"assert failed"}var n=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,n);o[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x);o[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y);if(e.getX()<=t.getX()&&e.getRight()>=t.getRight()){o[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())}else t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(o[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()));if(e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()){o[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom())}else t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(o[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var i=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(i=1);var a=i*o[0];var s=o[1]/i;if(o[0]<s){s=o[0]}else{a=o[1]}o[0]=-1*n[0]*(s/2+r);o[1]=-1*n[1]*(a/2+r)};n.decideDirectionsForOverlappingNodes=function(e,t,o){if(e.getCenterX()<t.getCenterX()){o[0]=-1}else{o[0]=1}if(e.getCenterY()<t.getCenterY()){o[1]=-1}else{o[1]=1}};n.getIntersection2=function(e,t,o){var r=e.getCenterX();var n=e.getCenterY();var i=t.getCenterX();var a=t.getCenterY();if(e.intersects(t)){o[0]=r;o[1]=n;o[2]=i;o[3]=a;return!0}var s=e.getX();var d=e.getY();var l=e.getRight();var h=e.getX();var c=e.getBottom();var u=e.getRight();var p=e.getWidthHalf();var g=e.getHeightHalf();var f=t.getX();var _=t.getY();var m=t.getRight();var v=t.getX();var y=t.getBottom();var N=t.getRight();var C=t.getWidthHalf();var L=t.getHeightHalf();var E=!1;var x=!1;if(r===i){if(n>a){o[0]=r;o[1]=d;o[2]=i;o[3]=y;return!1}else if(n<a){o[0]=r;o[1]=c;o[2]=i;o[3]=_;return!1}else{}}else if(n===a){if(r>i){o[0]=s;o[1]=n;o[2]=m;o[3]=a;return!1}else if(r<i){o[0]=l;o[1]=n;o[2]=f;o[3]=a;return!1}else{}}else{var A=e.height/e.width,I=t.height/t.width,b=(a-n)/(i-r),w=void 0,T=void 0,D=void 0,M=void 0,O=void 0,k=void 0;if(-A===b){if(r>i){o[0]=h;o[1]=c;E=!0}else{o[0]=l;o[1]=d;E=!0}}else if(A===b){if(r>i){o[0]=s;o[1]=d;E=!0}else{o[0]=u;o[1]=c;E=!0}}if(-I===b){if(i>r){o[2]=v;o[3]=y;x=!0}else{o[2]=m;o[3]=_;x=!0}}else if(I===b){if(i>r){o[2]=f;o[3]=_;x=!0}else{o[2]=N;o[3]=y;x=!0}}if(E&&x){return!1}if(r>i){if(n>a){w=this.getCardinalDirection(A,b,4);T=this.getCardinalDirection(I,b,2)}else{w=this.getCardinalDirection(-A,b,3);T=this.getCardinalDirection(-I,b,1)}}else{if(n>a){w=this.getCardinalDirection(-A,b,1);T=this.getCardinalDirection(-I,b,3)}else{w=this.getCardinalDirection(A,b,2);T=this.getCardinalDirection(I,b,4)}}if(!E){switch(w){case 1:M=d;D=r+-g/b;o[0]=D;o[1]=M;break;case 2:D=u;M=n+p*b;o[0]=D;o[1]=M;break;case 3:M=c;D=r+g/b;o[0]=D;o[1]=M;break;case 4:D=h;M=n+-p*b;o[0]=D;o[1]=M;break}}if(!x){switch(T){case 1:k=_;O=i+-L/b;o[2]=O;o[3]=k;break;case 2:O=N;k=a+C*b;o[2]=O;o[3]=k;break;case 3:k=y;O=i+L/b;o[2]=O;o[3]=k;break;case 4:O=v;k=a+-C*b;o[2]=O;o[3]=k;break}}}return!1};n.getCardinalDirection=function(e,t,o){if(e>t){return o}else{return 1+o%4}};n.getIntersection=function(e,t,o,n){if(n==null){return this.getIntersection2(e,t,o)}var i=e.x;var a=e.y;var s=t.x;var d=t.y;var l=o.x;var h=o.y;var c=n.x;var u=n.y;var p=void 0,g=void 0;var f=void 0,_=void 0,m=void 0,v=void 0,y=void 0,N=void 0;var C=void 0;f=d-a;m=i-s;y=s*a-i*d;_=u-h;v=l-c;N=c*h-l*u;C=f*v-_*m;if(C===0){return null}p=(m*N-v*y)/C;g=(_*y-f*N)/C;return new r(p,g)};n.angleOfVector=function(e,t,o,r){var n=void 0;if(e!==o){n=Math.atan((r-t)/(o-e));if(o<e){n+=Math.PI}else r<t&&(n+=this.TWO_PI)}else if(r<t){n=this.ONE_AND_HALF_PI}else{n=this.HALF_PI}return n};n.doIntersect=function(e,t,o,r){var n=e.x;var i=e.y;var a=t.x;var s=t.y;var d=o.x;var l=o.y;var h=r.x;var c=r.y;var u=(a-n)*(c-l)-(h-d)*(s-i);if(u===0){return!1}else{var p=((c-l)*(h-n)+(d-h)*(c-i))/u,g=((i-s)*(h-n)+(a-n)*(c-i))/u;return 0<p&&p<1&&0<g&&g<1}};n.findCircleLineIntersections=function(e,t,o,r,n,i,a){var s=(o-e)*(o-e)+(r-t)*(r-t);var d=2*((e-n)*(o-e)+(t-i)*(r-t));var l=(e-n)*(e-n)+(t-i)*(t-i)-a*a;var h=d*d-4*s*l;if(h>=0){var c=(-d+Math.sqrt(d*d-4*s*l))/(2*s),u=(-d-Math.sqrt(d*d-4*s*l))/(2*s),p=null;if(c>=0&&c<=1){return[c]}if(u>=0&&u<=1){return[u]}return p}else return null};n.HALF_PI=.5*Math.PI;n.ONE_AND_HALF_PI=1.5*Math.PI;n.TWO_PI=2*Math.PI;n.THREE_PI=3*Math.PI;e.exports=n},function(e,t,o){"use strict";function r(){}r.sign=function(e){if(e>0){return 1}else if(e<0){return-1}else{return 0}};r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)};r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)};e.exports=r},function(e,t,o){"use strict";function r(){}r.MAX_VALUE=2147483647;r.MIN_VALUE=-2147483648;e.exports=r},function(e,t,o){"use strict";var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(t,o,r){o&&e(t.prototype,o);r&&e(t,r);return t}}();function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t){return{value:t,next:null,prev:null}};var a=function e(t,o,r,n){if(t!==null){t.next=o}else{n.head=o}if(r!==null){r.prev=o}else{n.tail=o}o.prev=t;o.next=r;n.length++;return o};var s=function e(t,o){var r=t.prev,n=t.next;if(r!==null){r.next=n}else{o.head=n}if(n!==null){n.prev=r}else{o.tail=r}t.prev=t.next=null;o.length--;return t};var d=function(){function e(t){var o=this;n(this,e);this.length=0;this.head=null;this.tail=null;t!=null&&t.forEach(function(e){return o.push(e)})}r(e,[{key:"size",value:function e(){return this.length}},{key:"insertBefore",value:function e(t,o){return a(o.prev,i(t),o,this)}},{key:"insertAfter",value:function e(t,o){return a(o,i(t),o.next,this)}},{key:"insertNodeBefore",value:function e(t,o){return a(o.prev,t,o,this)}},{key:"insertNodeAfter",value:function e(t,o){return a(o,t,o.next,this)}},{key:"push",value:function e(t){return a(this.tail,i(t),null,this)}},{key:"unshift",value:function e(t){return a(null,i(t),this.head,this)}},{key:"remove",value:function e(t){return s(t,this)}},{key:"pop",value:function e(){return s(this.tail,this).value}},{key:"popNode",value:function e(){return s(this.tail,this)}},{key:"shift",value:function e(){return s(this.head,this).value}},{key:"shiftNode",value:function e(){return s(this.head,this)}},{key:"get_object_at",value:function e(t){if(t<=this.length()){var o=1,r=this.head;while(o<t){r=r.next;o++}return r.value}}},{key:"set_object_at",value:function e(t,o){if(t<=this.length()){var r=1,n=this.head;while(r<t){n=n.next;r++}n.value=o}}}]);return e}();e.exports=d},function(e,t,o){"use strict";function r(e,t,o){this.x=null;this.y=null;if(e==null&&t==null&&o==null){this.x=0;this.y=0}else if(typeof e=="number"&&typeof t=="number"&&o==null){this.x=e;this.y=t}else if(e.constructor.name=="Point"&&t==null&&o==null){o=e;this.x=o.x;this.y=o.y}}r.prototype.getX=function(){return this.x};r.prototype.getY=function(){return this.y};r.prototype.getLocation=function(){return new r(this.x,this.y)};r.prototype.setLocation=function(e,t,o){if(e.constructor.name=="Point"&&t==null&&o==null){o=e;this.setLocation(o.x,o.y)}else if(typeof e=="number"&&typeof t=="number"&&o==null){if(parseInt(e)==e&&parseInt(t)==t){this.move(e,t)}else{this.x=Math.floor(e+.5);this.y=Math.floor(t+.5)}}};r.prototype.move=function(e,t){this.x=e;this.y=t};r.prototype.translate=function(e,t){this.x+=e;this.y+=t};r.prototype.equals=function(e){if(e.constructor.name=="Point"){var t=e;return this.x==t.x&&this.y==t.y}return this==e};r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"};e.exports=r},function(e,t,o){"use strict";function r(e,t,o,r){this.x=0;this.y=0;this.width=0;this.height=0;if(e!=null&&t!=null&&o!=null&&r!=null){this.x=e;this.y=t;this.width=o;this.height=r}}r.prototype.getX=function(){return this.x};r.prototype.setX=function(e){this.x=e};r.prototype.getY=function(){return this.y};r.prototype.setY=function(e){this.y=e};r.prototype.getWidth=function(){return this.width};r.prototype.setWidth=function(e){this.width=e};r.prototype.getHeight=function(){return this.height};r.prototype.setHeight=function(e){this.height=e};r.prototype.getRight=function(){return this.x+this.width};r.prototype.getBottom=function(){return this.y+this.height};r.prototype.intersects=function(e){if(this.getRight()<e.x){return!1}if(this.getBottom()<e.y){return!1}if(e.getRight()<this.x){return!1}if(e.getBottom()<this.y){return!1}return!0};r.prototype.getCenterX=function(){return this.x+this.width/2};r.prototype.getMinX=function(){return this.getX()};r.prototype.getMaxX=function(){return this.getX()+this.width};r.prototype.getCenterY=function(){return this.y+this.height/2};r.prototype.getMinY=function(){return this.getY()};r.prototype.getMaxY=function(){return this.getY()+this.height};r.prototype.getWidthHalf=function(){return this.width/2};r.prototype.getHeightHalf=function(){return this.height/2};e.exports=r},function(e,t,o){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(){}n.lastID=0;n.createID=function(e){if(n.isPrimitive(e)){return e}if(e.uniqueID!=null){return e.uniqueID}e.uniqueID=n.getString();n.lastID++;return e.uniqueID};n.getString=function(e){e==null&&(e=n.lastID);return"Object#"+e+""};n.isPrimitive=function(e){var t=typeof e==="undefined"?"undefined":r(e);return e==null||t!="object"&&t!="function"};e.exports=n},function(t,o,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++){o[t]=e[t]}return o}else{return Array.from(e)}}var i=r(0);var a=r(7);var s=r(3);var d=r(1);var l=r(6);var h=r(5);var c=r(17);var u=r(29);function p(e){u.call(this);this.layoutQuality=i.QUALITY;this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED;this.incremental=i.DEFAULT_INCREMENTAL;this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT;this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD;this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES;this.edgeToDummyNodes=new Map;this.graphManager=new a(this);this.isLayoutFinished=!1;this.isSubLayout=!1;this.isRemoteUse=!1;e!=null&&(this.isRemoteUse=e)}p.RANDOM_SEED=1;p.prototype=Object.create(u.prototype);p.prototype.getGraphManager=function(){return this.graphManager};p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()};p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()};p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()};p.prototype.newGraphManager=function(){var e=new a(this);this.graphManager=e;return e};p.prototype.newGraph=function(e){return new l(null,this.graphManager,e)};p.prototype.newNode=function(e){return new s(this.graphManager,e)}
p.prototype.newEdge=function(e){return new d(null,null,e)};p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()};p.prototype.runLayout=function(){this.isLayoutFinished=!1;this.tilingPreLayout&&this.tilingPreLayout();this.initParameters();var e;if(this.checkLayoutSuccess()){e=!1}else{e=this.layout()}if(i.ANIMATE==="during"){return!1}e&&(this.isSubLayout||this.doPostLayout());this.tilingPostLayout&&this.tilingPostLayout();this.isLayoutFinished=!0;return e};p.prototype.doPostLayout=function(){this.incremental||this.transform();this.update()};p.prototype.update2=function(){if(this.createBendsAsNeeded){this.createBendpointsFromDummyNodes();this.graphManager.resetAllEdges()}if(!this.isRemoteUse){var e=this.graphManager.getAllEdges();for(var t=0;t<e.length;t++){e[t]}var o=this.graphManager.getRoot().getNodes();for(var t=0;t<o.length;t++){o[t]}this.update(this.graphManager.getRoot())}};p.prototype.update=function(e){if(e==null){this.update2()}else if(e instanceof s){var t=e;if(t.getChild()!=null){var o=t.getChild().getNodes();for(var r=0;r<o.length;r++){update(o[r])}}if(t.vGraphObject!=null){var n=t.vGraphObject;n.update(t)}}else if(e instanceof d){var i=e;if(i.vGraphObject!=null){var a=i.vGraphObject;a.update(i)}}else if(e instanceof l){var h=e;if(h.vGraphObject!=null){var c=h.vGraphObject;c.update(h)}}};p.prototype.initParameters=function(){if(!this.isSubLayout){this.layoutQuality=i.QUALITY;this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD;this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT;this.incremental=i.DEFAULT_INCREMENTAL;this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED;this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES}this.animationDuringLayout&&(this.animationOnLayout=!1)};p.prototype.transform=function(t){if(t==e){this.transform(new h(0,0))}else{var o=new c,r=this.graphManager.getRoot().updateLeftTop();if(r!=null){o.setWorldOrgX(t.x);o.setWorldOrgY(t.y);o.setDeviceOrgX(r.x);o.setDeviceOrgY(r.y);var n=this.getAllNodes(),i;for(var a=0;a<n.length;a++){i=n[a];i.transform(o)}}}};p.prototype.positionNodesRandomly=function(t){if(t==e){this.positionNodesRandomly(this.getGraphManager().getRoot());this.getGraphManager().getRoot().updateBounds(!0)}else{var o,r,n=t.getNodes();for(var i=0;i<n.length;i++){o=n[i];r=o.getChild();if(r==null){o.scatter()}else if(r.getNodes().length==0){o.scatter()}else{this.positionNodesRandomly(r);o.updateBounds()}}}};p.prototype.getFlatForest=function(){var e=[];var t=!0;var o=this.graphManager.getRoot().getNodes();var r=!0;for(var i=0;i<o.length;i++){o[i].getChild()!=null&&(r=!1)}if(!r){return e}var a=new Set;var s=[];var d=new Map;var l=[];l=l.concat(o);while(l.length>0&&t){s.push(l[0]);while(s.length>0&&t){var h=s[0];s.splice(0,1);a.add(h);var c=h.getEdges();for(var i=0;i<c.length;i++){var u=c[i].getOtherEnd(h);if(d.get(h)!=u){if(!a.has(u)){s.push(u);d.set(u,h)}else{t=!1;break}}}}if(!t){e=[]}else{var p=[].concat(n(a));e.push(p);for(var i=0;i<p.length;i++){var g=p[i],f=l.indexOf(g);f>-1&&l.splice(f,1)}a=new Set;d=new Map}}return e};p.prototype.createDummyNodesForBendpoints=function(e){var t=[];var o=e.source;var r=this.graphManager.calcLowestCommonAncestor(e.source,e.target);for(var n=0;n<e.bendpoints.length;n++){var i=this.newNode(null);i.setRect(new Point(0,0),new Dimension(1,1));r.add(i);var a=this.newEdge(null);this.graphManager.add(a,o,i);t.add(i);o=i}var a=this.newEdge(null);this.graphManager.add(a,o,e.target);this.edgeToDummyNodes.set(e,t);if(e.isInterGraph()){this.graphManager.remove(e)}else{r.remove(e)}return t};p.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());e=[].concat(n(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var o=e[t];if(o.bendpoints.length>0){var r=this.edgeToDummyNodes.get(o);for(var i=0;i<r.length;i++){var a=r[i],s=new h(a.getCenterX(),a.getCenterY()),d=o.bendpoints.get(i);d.x=s.x;d.y=s.y;a.getOwner().remove(a)}this.graphManager.add(o,o.source,o.target)}}};p.transform=function(t,o,r,n){if(r!=e&&n!=e){var i=o;if(t<=50){var a=o/r;i-=(o-a)/50*(50-t)}else{var s=o*n;i+=(s-o)/50*(t-50)}return i}else{var d,l;if(t<=50){d=9*o/500;l=o/10}else{d=9*o/50;l=-8*o}return d*t+l}};p.findCenterOfTree=function(e){var t=[];t=t.concat(e);var o=[];var r=new Map;var n=!1;var i=null;if(t.length==1||t.length==2){n=!0;i=t[0]}for(var a=0;a<t.length;a++){var s=t[a],d=s.getNeighborsList().size;r.set(s,s.getNeighborsList().size);d==1&&o.push(s)}var l=[];l=l.concat(o);while(!n){var h=[];h=h.concat(l);l=[];for(var a=0;a<t.length;a++){var s=t[a],c=t.indexOf(s);c>=0&&t.splice(c,1);var u=s.getNeighborsList();u.forEach(function(e){if(o.indexOf(e)<0){var t=r.get(e),n=t-1;n==1&&l.push(e);r.set(e,n)}})}o=o.concat(l);if(t.length==1||t.length==2){n=!0;i=t[0]}}return i};p.prototype.setGraphManager=function(e){this.graphManager=e};t.exports=p},function(e,t,o){"use strict";function r(){}r.seed=1;r.x=0;r.nextDouble=function(){r.x=Math.sin(r.seed++)*1e4;return r.x-Math.floor(r.x)};e.exports=r},function(e,t,o){"use strict";var r=o(5);function n(e,t){this.lworldOrgX=0;this.lworldOrgY=0;this.ldeviceOrgX=0;this.ldeviceOrgY=0;this.lworldExtX=1;this.lworldExtY=1;this.ldeviceExtX=1;this.ldeviceExtY=1}n.prototype.getWorldOrgX=function(){return this.lworldOrgX};n.prototype.setWorldOrgX=function(e){this.lworldOrgX=e};n.prototype.getWorldOrgY=function(){return this.lworldOrgY};n.prototype.setWorldOrgY=function(e){this.lworldOrgY=e};n.prototype.getWorldExtX=function(){return this.lworldExtX};n.prototype.setWorldExtX=function(e){this.lworldExtX=e};n.prototype.getWorldExtY=function(){return this.lworldExtY};n.prototype.setWorldExtY=function(e){this.lworldExtY=e};n.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX};n.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e};n.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY};n.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e};n.prototype.getDeviceExtX=function(){return this.ldeviceExtX};n.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e};n.prototype.getDeviceExtY=function(){return this.ldeviceExtY};n.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e};n.prototype.transformX=function(e){var t=0;var o=this.lworldExtX;o!=0&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/o);return t};n.prototype.transformY=function(e){var t=0;var o=this.lworldExtY;o!=0&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/o);return t};n.prototype.inverseTransformX=function(e){var t=0;var o=this.ldeviceExtX;o!=0&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/o);return t};n.prototype.inverseTransformY=function(e){var t=0;var o=this.ldeviceExtY;o!=0&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/o);return t};n.prototype.inverseTransformPoint=function(e){var t=new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y));return t};e.exports=n},function(t,o,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++){o[t]=e[t]}return o}else{return Array.from(e)}}var i=r(15);var a=r(4);var s=r(0);var d=r(8);var l=r(9);function h(){i.call(this);this.useSmartIdealEdgeLengthCalculation=a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.gravityConstant=a.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=a.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=a.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;this.displacementThresholdPerNode=3*a.DEFAULT_EDGE_LENGTH/100;this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.initialCoolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.totalDisplacement=0;this.oldTotalDisplacement=0;this.maxIterations=a.MAX_ITERATIONS}h.prototype=Object.create(i.prototype);for(var c in i){h[c]=i[c]}h.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments);this.totalIterations=0;this.notAnimatedIterations=0;this.useFRGridVariant=a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION;this.grid=[]};h.prototype.calcIdealEdgeLengths=function(){var e;var t;var o;var r;var n;var i;var d;var l=this.getGraphManager().getAllEdges();for(var h=0;h<l.length;h++){e=l[h];t=e.idealLength;if(e.isInterGraph){r=e.getSource();n=e.getTarget();i=e.getSourceInLca().getEstimatedSize();d=e.getTargetInLca().getEstimatedSize();this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=i+d-2*s.SIMPLE_NODE_SIZE);o=e.getLca().getInclusionTreeDepth();e.idealLength+=t*a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+n.getInclusionTreeDepth()-2*o)}}};h.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;if(this.incremental){e>a.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*a.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-a.ADAPTATION_LOWER_NODE_LIMIT)/(a.ADAPTATION_UPPER_NODE_LIMIT-a.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-a.COOLING_ADAPTATION_FACTOR)));this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{if(e>a.ADAPTATION_LOWER_NODE_LIMIT){this.coolingFactor=Math.max(a.COOLING_ADAPTATION_FACTOR,1-(e-a.ADAPTATION_LOWER_NODE_LIMIT)/(a.ADAPTATION_UPPER_NODE_LIMIT-a.ADAPTATION_LOWER_NODE_LIMIT)*(1-a.COOLING_ADAPTATION_FACTOR))}else{this.coolingFactor=1}this.initialCoolingFactor=this.coolingFactor;this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations);this.displacementThresholdPerNode=3*a.DEFAULT_EDGE_LENGTH/100;this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length;this.repulsionRange=this.calcRepulsionRange()};h.prototype.calcSpringForces=function(){var e=this.getAllEdges();var t;for(var o=0;o<e.length;o++){t=e[o];this.calcSpringForce(t,t.idealLength)}};h.prototype.calcRepulsionForces=function(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:!0;var o=arguments.length>1&&arguments[1]!==e?arguments[1]:!1;var r,n;var i,s;var d=this.getAllNodes();var l;if(this.useFRGridVariant){this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&t&&this.updateGrid();l=new Set;for(r=0;r<d.length;r++){i=d[r];this.calculateRepulsionForceOfANode(i,l,t,o);l.add(i)}}else{for(r=0;r<d.length;r++){i=d[r];for(n=r+1;n<d.length;n++){s=d[n];if(i.getOwner()!=s.getOwner()){continue}this.calcRepulsionForce(i,s)}}}};h.prototype.calcGravitationalForces=function(){var e;var t=this.getAllNodesToApplyGravitation();for(var o=0;o<t.length;o++){e=t[o];this.calcGravitationalForce(e)}};h.prototype.moveNodes=function(){var e=this.getAllNodes();var t;for(var o=0;o<e.length;o++){t=e[o];t.move()}};h.prototype.calcSpringForce=function(e,t){var o=e.getSource();var r=e.getTarget();var n;var i;var a;var s;if(this.uniformLeafNodeSizes&&o.getChild()==null&&r.getChild()==null){e.updateLengthSimple()}else{e.updateLength();if(e.isOverlapingSourceAndTarget){return}}n=e.getLength();if(n==0)return;i=e.edgeElasticity*(n-t);a=i*(e.lengthX/n);s=i*(e.lengthY/n);o.springForceX+=a;o.springForceY+=s;r.springForceX-=a;r.springForceY-=s};h.prototype.calcRepulsionForce=function(e,t){var o=e.getRect();var r=t.getRect();var n=new Array(2);var i=new Array(4);var s;var h;var c;var u;var p;var g;var f;if(o.intersects(r)){d.calcSeparationAmount(o,r,n,a.DEFAULT_EDGE_LENGTH/2);g=2*n[0];f=2*n[1];var _=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=_*g;e.repulsionForceY-=_*f;t.repulsionForceX+=_*g;t.repulsionForceY+=_*f}else{if(this.uniformLeafNodeSizes&&e.getChild()==null&&t.getChild()==null){s=r.getCenterX()-o.getCenterX();h=r.getCenterY()-o.getCenterY()}else{d.getIntersection(o,r,i);s=i[2]-i[0];h=i[3]-i[1]}Math.abs(s)<a.MIN_REPULSION_DIST&&(s=l.sign(s)*a.MIN_REPULSION_DIST);Math.abs(h)<a.MIN_REPULSION_DIST&&(h=l.sign(h)*a.MIN_REPULSION_DIST);c=s*s+h*h;u=Math.sqrt(c);p=(e.nodeRepulsion/2+t.nodeRepulsion/2)*e.noOfChildren*t.noOfChildren/c;g=p*s/u;f=p*h/u;e.repulsionForceX-=g;e.repulsionForceY-=f;t.repulsionForceX+=g;t.repulsionForceY+=f}};h.prototype.calcGravitationalForce=function(e){var t;var o;var r;var n;var i;var a;var s;var d;t=e.getOwner();o=(t.getRight()+t.getLeft())/2;r=(t.getTop()+t.getBottom())/2;n=e.getCenterX()-o;i=e.getCenterY()-r;a=Math.abs(n)+e.getWidth()/2;s=Math.abs(i)+e.getHeight()/2;if(e.getOwner()==this.graphManager.getRoot()){d=t.getEstimatedSize()*this.gravityRangeFactor;if(a>d||s>d){e.gravitationForceX=-this.gravityConstant*n;e.gravitationForceY=-this.gravityConstant*i}}else{d=t.getEstimatedSize()*this.compoundGravityRangeFactor;if(a>d||s>d){e.gravitationForceX=-this.gravityConstant*n*this.compoundGravityConstant;e.gravitationForceY=-this.gravityConstant*i*this.compoundGravityConstant}}};h.prototype.isConverged=function(){var e;var t=!1;this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2);e=this.totalDisplacement<this.totalDisplacementThreshold;this.oldTotalDisplacement=this.totalDisplacement;return e||t};h.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout){if(this.notAnimatedIterations==this.animationPeriod){this.update();this.notAnimatedIterations=0}else{this.notAnimatedIterations++}}};h.prototype.calcNoOfChildrenForAllNodes=function(){var e;var t=this.graphManager.getAllNodes();for(var o=0;o<t.length;o++){e=t[o];e.noOfChildren=e.getNoOfChildren()}};h.prototype.calcGrid=function(e){var t=0;var o=0;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange));o=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));var r=new Array(t);for(var n=0;n<t;n++){r[n]=new Array(o)}for(var n=0;n<t;n++){for(var i=0;i<o;i++){r[n][i]=new Array}}return r};h.prototype.addNodeToGrid=function(e,t,o){var r=0;var n=0;var i=0;var a=0;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange));n=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange));i=parseInt(Math.floor((e.getRect().y-o)/this.repulsionRange));a=parseInt(Math.floor((e.getRect().height+e.getRect().y-o)/this.repulsionRange));for(var s=r;s<=n;s++){for(var d=i;d<=a;d++){this.grid[s][d].push(e);e.setGridCoordinates(r,n,i,a)}}};h.prototype.updateGrid=function(){var e;var t;var o=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(e=0;e<o.length;e++){t=o[e];this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())}};h.prototype.calculateRepulsionForceOfANode=function(e,t,o,r){if(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&o||r){var i=new Set;e.surrounding=new Array;var s,d=this.grid;for(var l=e.startX-1;l<e.finishX+2;l++){for(var h=e.startY-1;h<e.finishY+2;h++){if(!(l<0||h<0||l>=d.length||h>=d[0].length)){for(var c=0;c<d[l][h].length;c++){s=d[l][h][c];if(e.getOwner()!=s.getOwner()||e==s){continue}if(!t.has(s)&&!i.has(s)){var u=Math.abs(e.getCenterX()-s.getCenterX())-(e.getWidth()/2+s.getWidth()/2),p=Math.abs(e.getCenterY()-s.getCenterY())-(e.getHeight()/2+s.getHeight()/2);u<=this.repulsionRange&&p<=this.repulsionRange&&i.add(s)}}}}}e.surrounding=[].concat(n(i))}for(l=0;l<e.surrounding.length;l++){this.calcRepulsionForce(e,e.surrounding[l])}};h.prototype.calcRepulsionRange=function(){return 0};t.exports=h},function(e,t,o){"use strict";var r=o(1);var n=o(4);function i(e,t,o){r.call(this,e,t,o);this.idealLength=n.DEFAULT_EDGE_LENGTH;this.edgeElasticity=n.DEFAULT_SPRING_STRENGTH}i.prototype=Object.create(r.prototype);for(var a in r){i[a]=r[a]}e.exports=i},function(e,t,o){"use strict";var r=o(3);var n=o(4);function i(e,t,o,i){r.call(this,e,t,o,i);this.nodeRepulsion=n.DEFAULT_REPULSION_STRENGTH;this.springForceX=0;this.springForceY=0;this.repulsionForceX=0;this.repulsionForceY=0;this.gravitationForceX=0;this.gravitationForceY=0;this.displacementX=0;this.displacementY=0;this.startX=0;this.finishX=0;this.startY=0;this.finishY=0;this.surrounding=[]}i.prototype=Object.create(r.prototype);for(var a in r){i[a]=r[a]}i.prototype.setGridCoordinates=function(e,t,o,r){this.startX=e;this.finishX=t;this.startY=o;this.finishY=r};e.exports=i},function(e,t,o){"use strict";function r(e,t){this.width=0;this.height=0;if(e!==null&&t!==null){this.height=t;this.width=e}}r.prototype.getWidth=function(){return this.width};r.prototype.setWidth=function(e){this.width=e};r.prototype.getHeight=function(){return this.height};r.prototype.setHeight=function(e){this.height=e};e.exports=r},function(e,t,o){"use strict";var r=o(14);function n(){this.map={};this.keys=[]}n.prototype.put=function(e,t){var o=r.createID(e);if(!this.contains(o)){this.map[o]=t;this.keys.push(e)}};n.prototype.contains=function(e){r.createID(e);return this.map[e]!=null};n.prototype.get=function(e){var t=r.createID(e);return this.map[t]};n.prototype.keySet=function(){return this.keys};e.exports=n},function(e,t,o){"use strict";var r=o(14);function n(){this.set={}}n.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)};n.prototype.remove=function(e){delete this.set[r.createID(e)]};n.prototype.clear=function(){this.set={}};n.prototype.contains=function(e){return this.set[r.createID(e)]==e};n.prototype.isEmpty=function(){return this.size()===0};n.prototype.size=function(){return Object.keys(this.set).length};n.prototype.addAllTo=function(e){var t=Object.keys(this.set);var o=t.length;for(var r=0;r<o;r++){e.push(this.set[t[r]])}};n.prototype.size=function(){return Object.keys(this.set).length};n.prototype.addAll=function(e){var t=e.length;for(var o=0;o<t;o++){var r=e[o];this.add(r)}};e.exports=n},function(e,t,o){"use strict";function r(){}r.multMat=function(e,t){var o=[];for(var r=0;r<e.length;r++){o[r]=[];for(var n=0;n<t[0].length;n++){o[r][n]=0;for(var i=0;i<e[0].length;i++){o[r][n]+=e[r][i]*t[i][n]}}}return o};r.transpose=function(e){var t=[];for(var o=0;o<e[0].length;o++){t[o]=[];for(var r=0;r<e.length;r++){t[o][r]=e[r][o]}}return t};r.multCons=function(e,t){var o=[];for(var r=0;r<e.length;r++){o[r]=e[r]*t}return o};r.minusOp=function(e,t){var o=[];for(var r=0;r<e.length;r++){o[r]=e[r]-t[r]}return o};r.dotProduct=function(e,t){var o=0;for(var r=0;r<e.length;r++){o+=e[r]*t[r]}return o};r.mag=function(e){return Math.sqrt(this.dotProduct(e,e))};r.normalize=function(e){var t=[];var o=this.mag(e);for(var r=0;r<e.length;r++){t[r]=e[r]/o}return t};r.multGamma=function(e){var t=[];var o=0;for(var r=0;r<e.length;r++){o+=e[r]}o*=-1/e.length;for(var n=0;n<e.length;n++){t[n]=o+e[n]}return t};r.multL=function(e,t,o){var r=[];var n=[];var i=[];for(var a=0;a<t[0].length;a++){var s=0;for(var d=0;d<t.length;d++){s+=-.5*t[d][a]*e[d]}n[a]=s}for(var l=0;l<o.length;l++){var h=0;for(var c=0;c<o.length;c++){h+=o[l][c]*n[c]}i[l]=h}for(var u=0;u<t.length;u++){var p=0;for(var g=0;g<t[0].length;g++){p+=t[u][g]*i[g]}r[u]=p}return r};e.exports=r},function(t,o,r){"use strict";var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(t,o,r){o&&e(t.prototype,o);r&&e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(11);var s=function(){function t(o,r){i(this,t);(r!==null||r!==e)&&(this.compareFunction=this._defaultCompareFunction);var n=void 0;if(o instanceof a)n=o.size();else n=o.length;this._quicksort(o,0,n-1)}n(t,[{key:"_quicksort",value:function e(t,o,r){if(o<r){var n=this._partition(t,o,r);this._quicksort(t,o,n);this._quicksort(t,n+1,r)}}},{key:"_partition",value:function e(t,o,r){var n=this._get(t,o);var i=o;var a=r;while(!0){while(this.compareFunction(n,this._get(t,a))){a--}while(this.compareFunction(this._get(t,i),n)){i++}if(i<a){this._swap(t,i,a);i++;a--}else return a}}},{key:"_get",value:function e(t,o){if(t instanceof a)return t.get_object_at(o);else return t[o]}},{key:"_set",value:function e(t,o,r){if(t instanceof a)t.set_object_at(o,r);else t[o]=r}},{key:"_swap",value:function e(t,o,r){var n=this._get(t,o);this._set(t,o,this._get(t,r));this._set(t,r,n)}},{key:"_defaultCompareFunction",value:function e(t,o){return o>t}}]);return t}();t.exports=s},function(e,t,o){"use strict";function r(){}r.svd=function(e){this.U=null;this.V=null;this.s=null;this.m=0;this.n=0;this.m=e.length;this.n=e[0].length;var t=Math.min(this.m,this.n);this.s=function(e){var t=[];while(e-- >0){t.push(0)}return t}(Math.min(this.m+1,this.n));this.U=function(e){var t=function e(t){if(t.length==0){return 0}else{var o=[];for(var r=0;r<t[0];r++){o.push(e(t.slice(1)))}return o}};return t(e)}([this.m,t]);this.V=function(e){var t=function e(t){if(t.length==0){return 0}else{var o=[];for(var r=0;r<t[0];r++){o.push(e(t.slice(1)))}return o}};return t(e)}([this.n,this.n]);var o=function(e){var t=[];while(e-- >0){t.push(0)}return t}(this.n);var n=function(e){var t=[];while(e-- >0){t.push(0)}return t}(this.m);var i=!0;var a=Math.min(this.m-1,this.n);var s=Math.max(0,Math.min(this.n-2,this.m));for(var d=0;d<Math.max(a,s);d++){if(d<a){this.s[d]=0;for(var l=d;l<this.m;l++){this.s[d]=r.hypot(this.s[d],e[l][d])}if(this.s[d]!==0){e[d][d]<0&&(this.s[d]=-this.s[d]);for(var h=d;h<this.m;h++){e[h][d]/=this.s[d]}e[d][d]+=1}this.s[d]=-this.s[d]}for(var c=d+1;c<this.n;c++){if(function(e,t){return e&&t}(d<a,this.s[d]!==0)){var u=0;for(var p=d;p<this.m;p++){u+=e[p][d]*e[p][c]}u=-u/e[d][d];for(var g=d;g<this.m;g++){e[g][c]+=u*e[g][d]}}o[c]=e[d][c]}if(function(e,t){return e&&t}(i,d<a)){for(var f=d;f<this.m;f++){this.U[f][d]=e[f][d]}}if(d<s){o[d]=0;for(var _=d+1;_<this.n;_++){o[d]=r.hypot(o[d],o[_])}if(o[d]!==0){o[d+1]<0&&(o[d]=-o[d]);for(var m=d+1;m<this.n;m++){o[m]/=o[d]}o[d+1]+=1}o[d]=-o[d];if(function(e,t){return e&&t}(d+1<this.m,o[d]!==0)){for(var v=d+1;v<this.m;v++){n[v]=0}for(var y=d+1;y<this.n;y++){for(var N=d+1;N<this.m;N++){n[N]+=o[y]*e[N][y]}}for(var C=d+1;C<this.n;C++){var L=-o[C]/o[d+1];for(var E=d+1;E<this.m;E++){e[E][C]+=L*n[E]}}}for(var x=d+1;x<this.n;x++){this.V[x][d]=o[x]}}}var A=Math.min(this.n,this.m+1);a<this.n&&(this.s[a]=e[a][a]);this.m<A&&(this.s[A-1]=0);s+1<A&&(o[s]=e[s][A-1]);o[A-1]=0;{for(var I=a;I<t;I++){for(var b=0;b<this.m;b++){this.U[b][I]=0}this.U[I][I]=1}for(var w=a-1;w>=0;w--){if(this.s[w]!==0){for(var T=w+1;T<t;T++){var D=0;for(var M=w;M<this.m;M++){D+=this.U[M][w]*this.U[M][T]}D=-D/this.U[w][w];for(var O=w;O<this.m;O++){this.U[O][T]+=D*this.U[O][w]}}for(var k=w;k<this.m;k++){this.U[k][w]=-this.U[k][w]}this.U[w][w]=1+this.U[w][w];for(var G=0;G<w-1;G++){this.U[G][w]=0}}else{for(var F=0;F<this.m;F++){this.U[F][w]=0}this.U[w][w]=1}}}{for(var P=this.n-1;P>=0;P--){if(function(e,t){return e&&t}(P<s,o[P]!==0)){for(var R=P+1;R<t;R++){var S=0;for(var j=P+1;j<this.n;j++){S+=this.V[j][P]*this.V[j][R]}S=-S/this.V[P+1][P];for(var z=P+1;z<this.n;z++){this.V[z][R]+=S*this.V[z][P]}}}for(var B=0;B<this.n;B++){this.V[B][P]=0}this.V[P][P]=1}}var H=A-1;var Y=0;var X=Math.pow(2,-52);var V=Math.pow(2,-966);while(A>0){var q=void 0,U=void 0;for(q=A-2;q>=-1;q--){if(q===-1){break}if(Math.abs(o[q])<=V+X*(Math.abs(this.s[q])+Math.abs(this.s[q+1]))){o[q]=0;break}}if(q===A-2){U=4}else{var W=void 0;for(W=A-1;W>=q;W--){if(W===q){break}var Z=(W!==A?Math.abs(o[W]):0)+(W!==q+1?Math.abs(o[W-1]):0);if(Math.abs(this.s[W])<=V+X*Z){this.s[W]=0;break}}if(W===q){U=3}else if(W===A-1){U=1}else{U=2;q=W}}q++;switch(U){case 1:var Q=o[A-2];o[A-2]=0;for(var K=A-2;K>=q;K--){var $=r.hypot(this.s[K],Q),J=this.s[K]/$,ee=Q/$;this.s[K]=$;if(K!==q){Q=-ee*o[K-1];o[K-1]=J*o[K-1]}for(var te=0;te<this.n;te++){$=J*this.V[te][K]+ee*this.V[te][A-1];this.V[te][A-1]=-ee*this.V[te][K]+J*this.V[te][A-1];this.V[te][K]=$}}break;case 2:var oe=o[q-1];o[q-1]=0;for(var re=q;re<A;re++){var ne=r.hypot(this.s[re],oe),ie=this.s[re]/ne,ae=oe/ne;this.s[re]=ne;oe=-ae*o[re];o[re]=ie*o[re];for(var se=0;se<this.m;se++){ne=ie*this.U[se][re]+ae*this.U[se][q-1];this.U[se][q-1]=-ae*this.U[se][re]+ie*this.U[se][q-1];this.U[se][re]=ne}}break;case 3:{var de=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[A-1]),Math.abs(this.s[A-2])),Math.abs(o[A-2])),Math.abs(this.s[q])),Math.abs(o[q])),le=this.s[A-1]/de,he=this.s[A-2]/de,ce=o[A-2]/de,ue=this.s[q]/de,pe=o[q]/de,ge=((he+le)*(he-le)+ce*ce)/2,fe=le*ce*(le*ce),_e=0;if(function(e,t){return e||t}(ge!==0,fe!==0)){_e=Math.sqrt(ge*ge+fe);ge<0&&(_e=-_e);_e=fe/(ge+_e)}var me=(ue+le)*(ue-le)+_e,ve=ue*pe;for(var ye=q;ye<A-1;ye++){var Ne=r.hypot(me,ve),Ce=me/Ne,Le=ve/Ne;ye!==q&&(o[ye-1]=Ne);me=Ce*this.s[ye]+Le*o[ye];o[ye]=Ce*o[ye]-Le*this.s[ye];ve=Le*this.s[ye+1];this.s[ye+1]=Ce*this.s[ye+1];for(var Ee=0;Ee<this.n;Ee++){Ne=Ce*this.V[Ee][ye]+Le*this.V[Ee][ye+1];this.V[Ee][ye+1]=-Le*this.V[Ee][ye]+Ce*this.V[Ee][ye+1];this.V[Ee][ye]=Ne}Ne=r.hypot(me,ve);Ce=me/Ne;Le=ve/Ne;this.s[ye]=Ne;me=Ce*o[ye]+Le*this.s[ye+1];this.s[ye+1]=-Le*o[ye]+Ce*this.s[ye+1];ve=Le*o[ye+1];o[ye+1]=Ce*o[ye+1];if(ye<this.m-1){for(var xe=0;xe<this.m;xe++){Ne=Ce*this.U[xe][ye]+Le*this.U[xe][ye+1];this.U[xe][ye+1]=-Le*this.U[xe][ye]+Ce*this.U[xe][ye+1];this.U[xe][ye]=Ne}}}o[A-2]=me;Y=Y+1}break;case 4:if(this.s[q]<=0){this.s[q]=this.s[q]<0?-this.s[q]:0;for(var Ae=0;Ae<=H;Ae++){this.V[Ae][q]=-this.V[Ae][q]}}while(q<H){if(this.s[q]>=this.s[q+1]){break}var Ie=this.s[q];this.s[q]=this.s[q+1];this.s[q+1]=Ie;if(q<this.n-1){for(var be=0;be<this.n;be++){Ie=this.V[be][q+1];this.V[be][q+1]=this.V[be][q];this.V[be][q]=Ie}}if(q<this.m-1){for(var we=0;we<this.m;we++){Ie=this.U[we][q+1];this.U[we][q+1]=this.U[we][q];this.U[we][q]=Ie}}q++}Y=0;A--;break}}var Te={U:this.U,V:this.V,S:this.s};return Te};r.hypot=function(e,t){var o=void 0;if(Math.abs(e)>Math.abs(t)){o=t/e;o=Math.abs(e)*Math.sqrt(1+o*o)}else if(t!=0){o=e/t;o=Math.abs(t)*Math.sqrt(1+o*o)}else{o=0}return o};e.exports=r},function(t,o,r){"use strict";var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(t,o,r){o&&e(t.prototype,o);r&&e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(o,r){var n=arguments.length>2&&arguments[2]!==e?arguments[2]:1;var a=arguments.length>3&&arguments[3]!==e?arguments[3]:-1;var s=arguments.length>4&&arguments[4]!==e?arguments[4]:-1;i(this,t);this.sequence1=o;this.sequence2=r;this.match_score=n;this.mismatch_penalty=a;this.gap_penalty=s;this.iMax=o.length+1;this.jMax=r.length+1;this.grid=new Array(this.iMax);for(var d=0;d<this.iMax;d++){this.grid[d]=new Array(this.jMax);for(var l=0;l<this.jMax;l++){this.grid[d][l]=0}}this.tracebackGrid=new Array(this.iMax);for(var h=0;h<this.iMax;h++){this.tracebackGrid[h]=new Array(this.jMax);for(var c=0;c<this.jMax;c++){this.tracebackGrid[h][c]=[null,null,null]}}this.alignments=[];this.score=-1;this.computeGrids()}n(t,[{key:"getScore",value:function e(){return this.score}},{key:"getAlignments",value:function e(){return this.alignments}},{key:"computeGrids",value:function e(){for(var t=1;t<this.jMax;t++){this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty;this.tracebackGrid[0][t]=[!1,!1,!0]}for(var o=1;o<this.iMax;o++){this.grid[o][0]=this.grid[o-1][0]+this.gap_penalty;this.tracebackGrid[o][0]=[!1,!0,!1]}for(var r=1;r<this.iMax;r++){for(var n=1;n<this.jMax;n++){var i=void 0;if(this.sequence1[r-1]===this.sequence2[n-1])i=this.grid[r-1][n-1]+this.match_score;else i=this.grid[r-1][n-1]+this.mismatch_penalty;var a=this.grid[r-1][n]+this.gap_penalty,s=this.grid[r][n-1]+this.gap_penalty,d=[i,a,s],l=this.arrayAllMaxIndexes(d);this.grid[r][n]=d[l[0]];this.tracebackGrid[r][n]=[l.includes(0),l.includes(1),l.includes(2)]}}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function e(){var t=[];t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});while(t[0]){var o=t[0],r=this.tracebackGrid[o.pos[0]][o.pos[1]];r[0]&&t.push({pos:[o.pos[0]-1,o.pos[1]-1],seq1:this.sequence1[o.pos[0]-1]+o.seq1,seq2:this.sequence2[o.pos[1]-1]+o.seq2});r[1]&&t.push({pos:[o.pos[0]-1,o.pos[1]],seq1:this.sequence1[o.pos[0]-1]+o.seq1,seq2:"-"+o.seq2});r[2]&&t.push({pos:[o.pos[0],o.pos[1]-1],seq1:"-"+o.seq1,seq2:this.sequence2[o.pos[1]-1]+o.seq2});o.pos[0]===0&&o.pos[1]===0&&this.alignments.push({sequence1:o.seq1,sequence2:o.seq2});t.shift()}return this.alignments}},{key:"getAllIndexes",value:function e(t,o){var r=[],n=-1;while((n=t.indexOf(o,n+1))!==-1){r.push(n)}return r}},{key:"arrayAllMaxIndexes",value:function e(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]);return t}();t.exports=a},function(e,t,o){"use strict";var r=function e(){return};r.FDLayout=o(18);r.FDLayoutConstants=o(4);r.FDLayoutEdge=o(19);r.FDLayoutNode=o(20);r.DimensionD=o(21);r.HashMap=o(22);r.HashSet=o(23);r.IGeometry=o(8);r.IMath=o(9);r.Integer=o(10);r.Point=o(12);r.PointD=o(5);r.RandomSeed=o(16);r.RectangleD=o(13);r.Transform=o(17);r.UniqueIDGeneretor=o(14);r.Quicksort=o(25);r.LinkedList=o(11);r.LGraphObject=o(2);r.LGraph=o(6);r.LEdge=o(1);r.LGraphManager=o(7);r.LNode=o(3);r.Layout=o(15);r.LayoutConstants=o(0);r.NeedlemanWunsch=o(27);r.Matrix=o(24);r.SVD=o(26);e.exports=r},function(e,t,o){"use strict";function r(){this.listeners=[]}var n=r.prototype;n.addListener=function(e,t){this.listeners.push({event:e,callback:t})};n.removeListener=function(e,t){for(var o=this.listeners.length;o>=0;o--){var r=this.listeners[o];r.event===e&&r.callback===t&&this.listeners.splice(o,1)}};n.emit=function(e,t){for(var o=0;o<this.listeners.length;o++){var r=this.listeners[o];e===r.event&&r.callback(t)}};e.exports=r}])});return t(r.exports)}.call(window);(function(){var r={};var n={exports:r};(function e(t,i){if(typeof r==="object"&&typeof n==="object")n.exports=i(o);else if(typeof define==="function"&&define.amd)define(["layout-base"],i);else if(typeof r==="object")r["coseBase"]=i(o);else t["coseBase"]=i(t["layoutBase"])})(this,function(t){return(()=>{var o={45:(e,t,o)=>{var r={};r.layoutBase=o(551);r.CoSEConstants=o(806);r.CoSEEdge=o(767);r.CoSEGraph=o(880);r.CoSEGraphManager=o(578);r.CoSELayout=o(765);r.CoSENode=o(991);r.ConstraintHandler=o(902);e.exports=r},806:(e,t,o)=>{var r=o(551).FDLayoutConstants;function n(){}for(var i in r){n[i]=r[i]}n.DEFAULT_USE_MULTI_LEVEL_SCALING=!1;n.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH;n.DEFAULT_COMPONENT_SEPERATION=60;n.TILE=!0;n.TILING_PADDING_VERTICAL=10;n.TILING_PADDING_HORIZONTAL=10;n.TRANSFORM_ON_CONSTRAINT_HANDLING=!0;n.ENFORCE_CONSTRAINTS=!0;n.APPLY_LAYOUT=!0;n.RELAX_MOVEMENT_ON_CONSTRAINTS=!0;n.TREE_REDUCTION_ON_INCREMENTAL=!0;n.PURE_INCREMENTAL=n.DEFAULT_INCREMENTAL;e.exports=n},767:(e,t,o)=>{var r=o(551).FDLayoutEdge;function n(e,t,o){r.call(this,e,t,o)}n.prototype=Object.create(r.prototype);for(var i in r){n[i]=r[i]}e.exports=n},880:(e,t,o)=>{var r=o(551).LGraph;function n(e,t,o){r.call(this,e,t,o)}n.prototype=Object.create(r.prototype);for(var i in r){n[i]=r[i]}e.exports=n},578:(e,t,o)=>{var r=o(551).LGraphManager;function n(e){r.call(this,e)}n.prototype=Object.create(r.prototype);for(var i in r){n[i]=r[i]}e.exports=n},765:(t,o,r)=>{var n=r(551).FDLayout;var i=r(578);var a=r(880);var s=r(991);var d=r(767);var l=r(806);var h=r(902);var c=r(551).FDLayoutConstants;var u=r(551).LayoutConstants;var p=r(551).Point;var g=r(551).PointD;var f=r(551).DimensionD;var _=r(551).Layout;var m=r(551).Integer;var v=r(551).IGeometry;var y=r(551).LGraph;var N=r(551).Transform;var C=r(551).LinkedList;function L(){n.call(this);this.toBeTiled={};this.constraints={}}L.prototype=Object.create(n.prototype);for(var E in n){L[E]=n[E]}L.prototype.newGraphManager=function(){var e=new i(this);this.graphManager=e;return e};L.prototype.newGraph=function(e){return new a(null,this.graphManager,e)};L.prototype.newNode=function(e){return new s(this.graphManager,e)};L.prototype.newEdge=function(e){return new d(null,null,e)};L.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments);if(!this.isSubLayout){if(l.DEFAULT_EDGE_LENGTH<10){this.idealEdgeLength=10}else{this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH}
this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;this.prunedNodesAll=[];this.growTreeIterations=0;this.afterGrowthIterations=0;this.isTreeGrowing=!1;this.isGrowthFinished=!1}};L.prototype.initSpringEmbedder=function(){n.prototype.initSpringEmbedder.call(this);this.coolingCycle=0;this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD;this.finalTemperature=.04;this.coolingAdjuster=1};L.prototype.layout=function(){var e=u.DEFAULT_CREATE_BENDS_AS_NEEDED;if(e){this.createBendpoints();this.graphManager.resetAllEdges()}this.level=0;return this.classicLayout()};L.prototype.classicLayout=function(){this.nodesWithGravity=this.calculateNodesToApplyGravitationTo();this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity);this.calcNoOfChildrenForAllNodes();this.graphManager.calcLowestCommonAncestors();this.graphManager.calcInclusionTreeDepths();this.graphManager.getRoot().calcEstimatedSize();this.calcIdealEdgeLengths();if(!this.incremental){var e=this.getFlatForest();if(e.length>0){this.positionNodesRadially(e)}else{this.reduceTrees();this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),o=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(o);this.positionNodesRandomly()}}else{if(l.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees();this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),o=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(o)}}if(Object.keys(this.constraints).length>0){h.handleConstraints(this);this.initConstraintVariables()}this.initSpringEmbedder();l.APPLY_LAYOUT&&this.runSpringEmbedder();return!0};L.prototype.tick=function(){this.totalIterations++;if(this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.prunedNodesAll.length>0){this.isTreeGrowing=!0}else{return!0}}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(this.prunedNodesAll.length>0){this.isTreeGrowing=!0}else{return!0}}this.coolingCycle++;if(this.layoutQuality==0){this.coolingAdjuster=this.coolingCycle}else this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3);this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature);this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0){if(this.prunedNodesAll.length>0){this.graphManager.updateBounds();this.updateGrid();this.growTree(this.prunedNodesAll);this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t);this.graphManager.updateBounds();this.updateGrid();if(l.PURE_INCREMENTAL)this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2;else this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else{this.isTreeGrowing=!1;this.isGrowthFinished=!0}}this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged()){return!0}if(this.afterGrowthIterations%10==0){this.graphManager.updateBounds();this.updateGrid()}if(l.PURE_INCREMENTAL)this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100);else this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100);this.afterGrowthIterations++}var o=!this.isTreeGrowing&&!this.isGrowthFinished;var r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;this.totalDisplacement=0;this.graphManager.updateBounds();this.calcSpringForces();this.calcRepulsionForces(o,r);this.calcGravitationalForces();this.moveNodes();this.animate();return!1};L.prototype.getPositionsData=function(){var e=this.graphManager.getAllNodes();var t={};for(var o=0;o<e.length;o++){var r=e[o].rect,n=e[o].id;t[n]={id:n,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t};L.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25;this.animationPeriod=this.initialAnimationPeriod;var e=!1;if(c.ANIMATE==="during"){this.emit("layoutstarted")}else{while(!e){e=this.tick()}this.graphManager.updateBounds()}};L.prototype.moveNodes=function(){var e=this.getAllNodes();var t;for(var o=0;o<e.length;o++){t=e[o];t.calculateDisplacement()}Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var o=0;o<e.length;o++){t=e[o];t.move()}};L.prototype.initConstraintVariables=function(){var e=this;this.idToNodeMap=new Map;this.fixedNodeSet=new Set;var t=this.graphManager.getAllNodes();for(var o=0;o<t.length;o++){var r=t[o];this.idToNodeMap.set(r.id,r)}var n=function t(o){var r=o.getChild().getNodes();var n;var i=0;for(var a=0;a<r.length;a++){n=r[a];if(n.getChild()==null){e.fixedNodeSet.has(n.id)&&(i+=100)}else{i+=t(n)}}return i};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(t){e.fixedNodeSet.add(t.nodeId)});var t=this.graphManager.getAllNodes(),r;for(var o=0;o<t.length;o++){r=t[o];if(r.getChild()!=null){var i=n(r);i>0&&(r.fixedNodeWeight=i)}}}if(this.constraints.relativePlacementConstraint){var a=new Map,s=new Map;this.dummyToNodeForVerticalAlignment=new Map;this.dummyToNodeForHorizontalAlignment=new Map;this.fixedNodesOnHorizontal=new Set;this.fixedNodesOnVertical=new Set;this.fixedNodeSet.forEach(function(t){e.fixedNodesOnHorizontal.add(t);e.fixedNodesOnVertical.add(t)});if(this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var d=this.constraints.alignmentConstraint.vertical;for(var o=0;o<d.length;o++){this.dummyToNodeForVerticalAlignment.set("dummy"+o,[]);d[o].forEach(function(t){a.set(t,"dummy"+o);e.dummyToNodeForVerticalAlignment.get("dummy"+o).push(t);e.fixedNodeSet.has(t)&&e.fixedNodesOnHorizontal.add("dummy"+o)})}}if(this.constraints.alignmentConstraint.horizontal){var h=this.constraints.alignmentConstraint.horizontal;for(var o=0;o<h.length;o++){this.dummyToNodeForHorizontalAlignment.set("dummy"+o,[]);h[o].forEach(function(t){s.set(t,"dummy"+o);e.dummyToNodeForHorizontalAlignment.get("dummy"+o).push(t);e.fixedNodeSet.has(t)&&e.fixedNodesOnVertical.add("dummy"+o)})}}}if(l.RELAX_MOVEMENT_ON_CONSTRAINTS){this.shuffle=function(e){var t,o,r;for(r=e.length-1;r>=2*e.length/3;r--){t=Math.floor(Math.random()*(r+1));o=e[r];e[r]=e[t];e[t]=o}return e};this.nodesInRelativeHorizontal=[];this.nodesInRelativeVertical=[];this.nodeToRelativeConstraintMapHorizontal=new Map;this.nodeToRelativeConstraintMapVertical=new Map;this.nodeToTempPositionMapHorizontal=new Map;this.nodeToTempPositionMapVertical=new Map;this.constraints.relativePlacementConstraint.forEach(function(t){if(t.left){var o=a.has(t.left)?a.get(t.left):t.left,r=a.has(t.right)?a.get(t.right):t.right;if(!e.nodesInRelativeHorizontal.includes(o)){e.nodesInRelativeHorizontal.push(o);e.nodeToRelativeConstraintMapHorizontal.set(o,[]);if(e.dummyToNodeForVerticalAlignment.has(o)){e.nodeToTempPositionMapHorizontal.set(o,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(o)[0]).getCenterX())}else{e.nodeToTempPositionMapHorizontal.set(o,e.idToNodeMap.get(o).getCenterX())}}if(!e.nodesInRelativeHorizontal.includes(r)){e.nodesInRelativeHorizontal.push(r);e.nodeToRelativeConstraintMapHorizontal.set(r,[]);if(e.dummyToNodeForVerticalAlignment.has(r)){e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX())}else{e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(r).getCenterX())}}e.nodeToRelativeConstraintMapHorizontal.get(o).push({right:r,gap:t.gap});e.nodeToRelativeConstraintMapHorizontal.get(r).push({left:o,gap:t.gap})}else{var n=s.has(t.top)?s.get(t.top):t.top,i=s.has(t.bottom)?s.get(t.bottom):t.bottom;if(!e.nodesInRelativeVertical.includes(n)){e.nodesInRelativeVertical.push(n);e.nodeToRelativeConstraintMapVertical.set(n,[]);if(e.dummyToNodeForHorizontalAlignment.has(n)){e.nodeToTempPositionMapVertical.set(n,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(n)[0]).getCenterY())}else{e.nodeToTempPositionMapVertical.set(n,e.idToNodeMap.get(n).getCenterY())}}if(!e.nodesInRelativeVertical.includes(i)){e.nodesInRelativeVertical.push(i);e.nodeToRelativeConstraintMapVertical.set(i,[]);if(e.dummyToNodeForHorizontalAlignment.has(i)){e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY())}else{e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(i).getCenterY())}}e.nodeToRelativeConstraintMapVertical.get(n).push({bottom:i,gap:t.gap});e.nodeToRelativeConstraintMapVertical.get(i).push({top:n,gap:t.gap})}})}else{var c=new Map,u=new Map;this.constraints.relativePlacementConstraint.forEach(function(e){if(e.left){var t=a.has(e.left)?a.get(e.left):e.left,o=a.has(e.right)?a.get(e.right):e.right;if(c.has(t)){c.get(t).push(o)}else{c.set(t,[o])}if(c.has(o)){c.get(o).push(t)}else{c.set(o,[t])}}else{var r=s.has(e.top)?s.get(e.top):e.top,n=s.has(e.bottom)?s.get(e.bottom):e.bottom;if(u.has(r)){u.get(r).push(n)}else{u.set(r,[n])}if(u.has(n)){u.get(n).push(r)}else{u.set(n,[r])}}});var p=function e(t,o){var r=[];var n=[];var i=new C;var a=new Set;var s=0;t.forEach(function(e,d){if(!a.has(d)){r[s]=[];n[s]=!1;var l=d;i.push(l);a.add(l);r[s].push(l);while(i.length!=0){l=i.shift();o.has(l)&&(n[s]=!0);var h=t.get(l);h.forEach(function(e){if(!a.has(e)){i.push(e);a.add(e);r[s].push(e)}})}s++}});return{components:r,isFixed:n}},g=p(c,e.fixedNodesOnHorizontal);this.componentsOnHorizontal=g.components;this.fixedComponentsOnHorizontal=g.isFixed;var f=p(u,e.fixedNodesOnVertical);this.componentsOnVertical=f.components;this.fixedComponentsOnVertical=f.isFixed}}};L.prototype.updateDisplacements=function(){var e=this;this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(t){var o=e.idToNodeMap.get(t.nodeId);o.displacementX=0;o.displacementY=0});if(this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var t=this.constraints.alignmentConstraint.vertical;for(var o=0;o<t.length;o++){var r=0;for(var n=0;n<t[o].length;n++){if(this.fixedNodeSet.has(t[o][n])){r=0;break}r+=this.idToNodeMap.get(t[o][n]).displacementX}var i=r/t[o].length;for(var n=0;n<t[o].length;n++){this.idToNodeMap.get(t[o][n]).displacementX=i}}}if(this.constraints.alignmentConstraint.horizontal){var a=this.constraints.alignmentConstraint.horizontal;for(var o=0;o<a.length;o++){var s=0;for(var n=0;n<a[o].length;n++){if(this.fixedNodeSet.has(a[o][n])){s=0;break}s+=this.idToNodeMap.get(a[o][n]).displacementY}var d=s/a[o].length;for(var n=0;n<a[o].length;n++){this.idToNodeMap.get(a[o][n]).displacementY=d}}}}if(this.constraints.relativePlacementConstraint){if(l.RELAX_MOVEMENT_ON_CONSTRAINTS){if(this.totalIterations%10==0){this.shuffle(this.nodesInRelativeHorizontal);this.shuffle(this.nodesInRelativeVertical)}this.nodesInRelativeHorizontal.forEach(function(t){if(!e.fixedNodesOnHorizontal.has(t)){var o=0;if(e.dummyToNodeForVerticalAlignment.has(t)){o=e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(t)[0]).displacementX}else{o=e.idToNodeMap.get(t).displacementX}e.nodeToRelativeConstraintMapHorizontal.get(t).forEach(function(r){if(r.right){var n=e.nodeToTempPositionMapHorizontal.get(r.right)-e.nodeToTempPositionMapHorizontal.get(t)-o;n<r.gap&&(o-=r.gap-n)}else{var n=e.nodeToTempPositionMapHorizontal.get(t)-e.nodeToTempPositionMapHorizontal.get(r.left)+o;n<r.gap&&(o+=r.gap-n)}});e.nodeToTempPositionMapHorizontal.set(t,e.nodeToTempPositionMapHorizontal.get(t)+o);if(e.dummyToNodeForVerticalAlignment.has(t)){e.dummyToNodeForVerticalAlignment.get(t).forEach(function(t){e.idToNodeMap.get(t).displacementX=o})}else{e.idToNodeMap.get(t).displacementX=o}}});this.nodesInRelativeVertical.forEach(function(t){if(!e.fixedNodesOnHorizontal.has(t)){var o=0;if(e.dummyToNodeForHorizontalAlignment.has(t)){o=e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(t)[0]).displacementY}else{o=e.idToNodeMap.get(t).displacementY}e.nodeToRelativeConstraintMapVertical.get(t).forEach(function(r){if(r.bottom){var n=e.nodeToTempPositionMapVertical.get(r.bottom)-e.nodeToTempPositionMapVertical.get(t)-o;n<r.gap&&(o-=r.gap-n)}else{var n=e.nodeToTempPositionMapVertical.get(t)-e.nodeToTempPositionMapVertical.get(r.top)+o;n<r.gap&&(o+=r.gap-n)}});e.nodeToTempPositionMapVertical.set(t,e.nodeToTempPositionMapVertical.get(t)+o);if(e.dummyToNodeForHorizontalAlignment.has(t)){e.dummyToNodeForHorizontalAlignment.get(t).forEach(function(t){e.idToNodeMap.get(t).displacementY=o})}else{e.idToNodeMap.get(t).displacementY=o}}})}else{for(var o=0;o<this.componentsOnHorizontal.length;o++){var h=this.componentsOnHorizontal[o];if(this.fixedComponentsOnHorizontal[o]){for(var n=0;n<h.length;n++){if(this.dummyToNodeForVerticalAlignment.has(h[n])){this.dummyToNodeForVerticalAlignment.get(h[n]).forEach(function(t){e.idToNodeMap.get(t).displacementX=0})}else{this.idToNodeMap.get(h[n]).displacementX=0}}}else{var c=0,u=0;for(var n=0;n<h.length;n++){if(this.dummyToNodeForVerticalAlignment.has(h[n])){var p=this.dummyToNodeForVerticalAlignment.get(h[n]);c+=p.length*this.idToNodeMap.get(p[0]).displacementX;u+=p.length}else{c+=this.idToNodeMap.get(h[n]).displacementX;u++}}var g=c/u;for(var n=0;n<h.length;n++){if(this.dummyToNodeForVerticalAlignment.has(h[n])){this.dummyToNodeForVerticalAlignment.get(h[n]).forEach(function(t){e.idToNodeMap.get(t).displacementX=g})}else{this.idToNodeMap.get(h[n]).displacementX=g}}}}for(var o=0;o<this.componentsOnVertical.length;o++){var h=this.componentsOnVertical[o];if(this.fixedComponentsOnVertical[o]){for(var n=0;n<h.length;n++){if(this.dummyToNodeForHorizontalAlignment.has(h[n])){this.dummyToNodeForHorizontalAlignment.get(h[n]).forEach(function(t){e.idToNodeMap.get(t).displacementY=0})}else{this.idToNodeMap.get(h[n]).displacementY=0}}}else{var c=0,u=0;for(var n=0;n<h.length;n++){if(this.dummyToNodeForHorizontalAlignment.has(h[n])){var p=this.dummyToNodeForHorizontalAlignment.get(h[n]);c+=p.length*this.idToNodeMap.get(p[0]).displacementY;u+=p.length}else{c+=this.idToNodeMap.get(h[n]).displacementY;u++}}var g=c/u;for(var n=0;n<h.length;n++){if(this.dummyToNodeForHorizontalAlignment.has(h[n])){this.dummyToNodeForHorizontalAlignment.get(h[n]).forEach(function(t){e.idToNodeMap.get(t).displacementY=g})}else{this.idToNodeMap.get(h[n]).displacementY=g}}}}}}};L.prototype.calculateNodesToApplyGravitationTo=function(){var e=[];var t;var o=this.graphManager.getGraphs();var r=o.length;var n;for(n=0;n<r;n++){t=o[n];t.updateConnected();t.isConnected||(e=e.concat(t.getNodes()))}return e};L.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t=new Set;var o;for(o=0;o<e.length;o++){var r=e[o];if(!t.has(r)){var n=r.getSource(),i=r.getTarget();if(n==i){r.getBendpoints().push(new g);r.getBendpoints().push(new g);this.createDummyNodesForBendpoints(r);t.add(r)}else{var a=[];a=a.concat(n.getEdgeListToNode(i));a=a.concat(i.getEdgeListToNode(n));if(!t.has(a[0])){if(a.length>1){var s;for(s=0;s<a.length;s++){var d=a[s];d.getBendpoints().push(new g);this.createDummyNodesForBendpoints(d)}}a.forEach(function(e){t.add(e)})}}}if(t.size==e.length){break}}};L.prototype.positionNodesRadially=function(e){var t=new p(0,0);var o=Math.ceil(Math.sqrt(e.length));var r=0;var n=0;var i=0;var a=new g(0,0);for(var s=0;s<e.length;s++){if(s%o==0){i=0;n=r;s!=0&&(n+=l.DEFAULT_COMPONENT_SEPERATION);r=0}var d=e[s],h=_.findCenterOfTree(d);t.x=i;t.y=n;a=L.radialLayout(d,h,t);a.y>r&&(r=Math.floor(a.y));i=Math.floor(a.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(u.WORLD_CENTER_X-a.x/2,u.WORLD_CENTER_Y-a.y/2))};L.radialLayout=function(e,t,o){var r=Math.max(this.maxDiagonalInTree(e),l.DEFAULT_RADIAL_SEPARATION);L.branchRadialLayout(t,null,0,359,0,r);var n=y.calculateBounds(e);var i=new N;i.setDeviceOrgX(n.getMinX());i.setDeviceOrgY(n.getMinY());i.setWorldOrgX(o.x);i.setWorldOrgY(o.y);for(var a=0;a<e.length;a++){var s=e[a];s.transform(i)}var d=new g(n.getMaxX(),n.getMaxY());return i.inverseTransformPoint(d)};L.branchRadialLayout=function(e,t,o,r,n,i){var a=(r-o+1)/2;a<0&&(a+=180);var s=(a+o)%360;var d=s*v.TWO_PI/360;var l=n*Math.cos(d);var h=n*Math.sin(d);e.setCenter(l,h);var c=[];c=c.concat(e.getEdges());var u=c.length;t!=null&&u--;var p=0;var g=c.length;var f;var _=e.getEdgesBetween(t);while(_.length>1){var m=_[0];_.splice(0,1);var y=c.indexOf(m);y>=0&&c.splice(y,1);g--;u--}if(t!=null){f=(c.indexOf(_[0])+1)%g}else{f=0}var N=Math.abs(r-o)/u;for(var C=f;p!=u;C=++C%g){var E=c[C].getOtherEnd(e);if(E==t){continue}var x=(o+p*N)%360,A=(x+N)%360;L.branchRadialLayout(E,e,x,A,n+i,i);p++}};L.maxDiagonalInTree=function(e){var t=m.MIN_VALUE;for(var o=0;o<e.length;o++){var r=e[o],n=r.getDiagonal();n>t&&(t=n)}return t};L.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength};L.prototype.groupZeroDegreeMembers=function(){var t=this;var o={};this.memberGroups={};this.idToDummyNode={};var r=[];var n=this.graphManager.getAllNodes();for(var i=0;i<n.length;i++){var a=n[i],d=a.getParent();this.getNodeDegreeWithChildren(a)===0&&(d.id==e||!this.getToBeTiled(d))&&r.push(a)}for(var i=0;i<r.length;i++){var a=r[i],l=a.getParent().id;typeof o[l]==="undefined"&&(o[l]=[]);o[l]=o[l].concat(a)}Object.keys(o).forEach(function(e){if(o[e].length>1){var r="DummyCompound_"+e;t.memberGroups[r]=o[e];var n=o[e][0].getParent(),i=new s(t.graphManager);i.id=r;i.paddingLeft=n.paddingLeft||0;i.paddingRight=n.paddingRight||0;i.paddingBottom=n.paddingBottom||0;i.paddingTop=n.paddingTop||0;t.idToDummyNode[r]=i;var a=t.getGraphManager().add(t.newGraph(),i),d=n.getChild();d.add(i);for(var l=0;l<o[e].length;l++){var h=o[e][l];d.remove(h);a.add(h)}}})};L.prototype.clearCompounds=function(){var e={};var t={};this.performDFSOnCompounds();for(var o=0;o<this.compoundOrder.length;o++){t[this.compoundOrder[o].id]=this.compoundOrder[o];e[this.compoundOrder[o].id]=[].concat(this.compoundOrder[o].getChild().getNodes());this.graphManager.remove(this.compoundOrder[o].getChild());this.compoundOrder[o].child=null}this.graphManager.resetAllNodes();this.tileCompoundMembers(e,t)};L.prototype.clearZeroDegreeMembers=function(){var e=this;var t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(o){var r=e.idToDummyNode[o];t[o]=e.tileNodes(e.memberGroups[o],r.paddingLeft+r.paddingRight);r.rect.width=t[o].width;r.rect.height=t[o].height;r.setCenter(t[o].centerX,t[o].centerY);r.labelMarginLeft=0;r.labelMarginTop=0;if(l.NODE_DIMENSIONS_INCLUDE_LABELS){var n=r.rect.width,i=r.rect.height;if(r.labelWidth){if(r.labelPosHorizontal=="left"){r.rect.x-=r.labelWidth;r.setWidth(n+r.labelWidth);r.labelMarginLeft=r.labelWidth}else if(r.labelPosHorizontal=="center"&&r.labelWidth>n){r.rect.x-=(r.labelWidth-n)/2;r.setWidth(r.labelWidth);r.labelMarginLeft=(r.labelWidth-n)/2}else r.labelPosHorizontal=="right"&&r.setWidth(n+r.labelWidth)}if(r.labelHeight){if(r.labelPosVertical=="top"){r.rect.y-=r.labelHeight;r.setHeight(i+r.labelHeight);r.labelMarginTop=r.labelHeight}else if(r.labelPosVertical=="center"&&r.labelHeight>i){r.rect.y-=(r.labelHeight-i)/2;r.setHeight(r.labelHeight);r.labelMarginTop=(r.labelHeight-i)/2}else r.labelPosVertical=="bottom"&&r.setHeight(i+r.labelHeight)}}})};L.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],o=t.id,r=t.paddingLeft,n=t.paddingTop,i=t.labelMarginLeft,a=t.labelMarginTop;this.adjustLocations(this.tiledMemberPack[o],t.rect.x,t.rect.y,r,n,i,a)}};L.prototype.repopulateZeroDegreeMembers=function(){var e=this;var t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(o){var r=e.idToDummyNode[o];var n=r.paddingLeft;var i=r.paddingTop;var a=r.labelMarginLeft;var s=r.labelMarginTop;e.adjustLocations(t[o],r.rect.x,r.rect.y,n,i,a,s)})};L.prototype.getToBeTiled=function(e){var t=e.id;if(this.toBeTiled[t]!=null){return this.toBeTiled[t]}var o=e.getChild();if(o==null){this.toBeTiled[t]=!1;return!1}var r=o.getNodes();for(var n=0;n<r.length;n++){var i=r[n];if(this.getNodeDegree(i)>0){this.toBeTiled[t]=!1;return!1}if(i.getChild()==null){this.toBeTiled[i.id]=!1;continue}if(!this.getToBeTiled(i)){this.toBeTiled[t]=!1;return!1}}this.toBeTiled[t]=!0;return!0};L.prototype.getNodeDegree=function(e){e.id;var t=e.getEdges();var o=0;for(var r=0;r<t.length;r++){var n=t[r];n.getSource().id!==n.getTarget().id&&(o=o+1)}return o};L.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(e.getChild()==null){return t}var o=e.getChild().getNodes();for(var r=0;r<o.length;r++){var n=o[r];t+=this.getNodeDegreeWithChildren(n)}return t};L.prototype.performDFSOnCompounds=function(){this.compoundOrder=[];this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())};L.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var o=e[t];o.getChild()!=null&&this.fillCompexOrderByDFS(o.getChild().getNodes());this.getToBeTiled(o)&&this.compoundOrder.push(o)}};L.prototype.adjustLocations=function(e,t,o,r,n,i,a){t+=r+i;o+=n+a;var s=t;for(var d=0;d<e.rows.length;d++){var l=e.rows[d];t=s;var h=0;for(var c=0;c<l.length;c++){var u=l[c];u.rect.x=t;u.rect.y=o;t+=u.rect.width+e.horizontalPadding;u.rect.height>h&&(h=u.rect.height)}o+=h+e.verticalPadding}};L.prototype.tileCompoundMembers=function(e,t){var o=this;this.tiledMemberPack=[];Object.keys(e).forEach(function(r){var n=t[r];o.tiledMemberPack[r]=o.tileNodes(e[r],n.paddingLeft+n.paddingRight);n.rect.width=o.tiledMemberPack[r].width;n.rect.height=o.tiledMemberPack[r].height;n.setCenter(o.tiledMemberPack[r].centerX,o.tiledMemberPack[r].centerY);n.labelMarginLeft=0;n.labelMarginTop=0;if(l.NODE_DIMENSIONS_INCLUDE_LABELS){var i=n.rect.width,a=n.rect.height;if(n.labelWidth){if(n.labelPosHorizontal=="left"){n.rect.x-=n.labelWidth;n.setWidth(i+n.labelWidth);n.labelMarginLeft=n.labelWidth}else if(n.labelPosHorizontal=="center"&&n.labelWidth>i){n.rect.x-=(n.labelWidth-i)/2;n.setWidth(n.labelWidth);n.labelMarginLeft=(n.labelWidth-i)/2}else n.labelPosHorizontal=="right"&&n.setWidth(i+n.labelWidth)}if(n.labelHeight){if(n.labelPosVertical=="top"){n.rect.y-=n.labelHeight;n.setHeight(a+n.labelHeight);n.labelMarginTop=n.labelHeight}else if(n.labelPosVertical=="center"&&n.labelHeight>a){n.rect.y-=(n.labelHeight-a)/2;n.setHeight(n.labelHeight);n.labelMarginTop=(n.labelHeight-a)/2}else n.labelPosVertical=="bottom"&&n.setHeight(a+n.labelHeight)}}})};L.prototype.tileNodes=function(e,t){var o=this.tileNodesByFavoringDim(e,t,!0);var r=this.tileNodesByFavoringDim(e,t,!1);var n=this.getOrgRatio(o);var i=this.getOrgRatio(r);var a;if(i<n){a=r}else{a=o}return a};L.prototype.getOrgRatio=function(e){var t=e.width;var o=e.height;var r=t/o;r<1&&(r=1/r);return r};L.prototype.calcIdealRowWidth=function(e,t){var o=l.TILING_PADDING_VERTICAL;var r=l.TILING_PADDING_HORIZONTAL;var n=e.length;var i=0;var a=0;var s=0;e.forEach(function(e){i+=e.getWidth();a+=e.getHeight();e.getWidth()>s&&(s=e.getWidth())});var d=i/n;var h=a/n;var c=Math.pow(o-r,2)+4*(d+r)*(h+o)*n;var u=(r-o+Math.sqrt(c))/(2*(d+r));var p;if(t){p=Math.ceil(u);p==u&&p++}else{p=Math.floor(u)}var g=p*(d+r)-r;s>g&&(g=s);g+=r*2;return g};L.prototype.tileNodesByFavoringDim=function(e,t,o){var r=l.TILING_PADDING_VERTICAL;var n=l.TILING_PADDING_HORIZONTAL;var i=l.TILING_COMPARE_BY;var a={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:r,horizontalPadding:n,centerX:0,centerY:0};i&&(a.idealRowWidth=this.calcIdealRowWidth(e,o));var s=function e(t){return t.rect.width*t.rect.height};var d=function e(t,o){return s(o)-s(t)};e.sort(function(e,t){var o=d;if(a.idealRowWidth){o=i;return o(e.id,t.id)}return o(e,t)});var h=0;var c=0;for(var u=0;u<e.length;u++){var p=e[u];h+=p.getCenterX();c+=p.getCenterY()}a.centerX=h/e.length;a.centerY=c/e.length;for(var u=0;u<e.length;u++){var p=e[u];if(a.rows.length==0){this.insertNodeToRow(a,p,0,t)}else if(this.canAddHorizontal(a,p.rect.width,p.rect.height)){var g=a.rows.length-1;a.idealRowWidth||(g=this.getShortestRowIndex(a));this.insertNodeToRow(a,p,g,t)}else{this.insertNodeToRow(a,p,a.rows.length,t)}this.shiftToLastRow(a)}return a};L.prototype.insertNodeToRow=function(e,t,o,r){if(o==e.rows.length){var n=[];e.rows.push(n);e.rowWidth.push(r);e.rowHeight.push(0)}var i=e.rowWidth[o]+t.rect.width;e.rows[o].length>0&&(i+=e.horizontalPadding);e.rowWidth[o]=i;e.width<i&&(e.width=i);var a=t.rect.height;o>0&&(a+=e.verticalPadding);var s=0;if(a>e.rowHeight[o]){s=e.rowHeight[o];e.rowHeight[o]=a;s=e.rowHeight[o]-s}e.height+=s;e.rows[o].push(t)};L.prototype.getShortestRowIndex=function(e){var t=-1;var o=Number.MAX_VALUE;for(var r=0;r<e.rows.length;r++){if(e.rowWidth[r]<o){t=r;o=e.rowWidth[r]}}return t};L.prototype.getLongestRowIndex=function(e){var t=-1;var o=Number.MIN_VALUE;for(var r=0;r<e.rows.length;r++){if(e.rowWidth[r]>o){t=r;o=e.rowWidth[r]}}return t};L.prototype.canAddHorizontal=function(e,t,o){if(e.idealRowWidth){var r=e.rows.length-1,n=e.rowWidth[r];return n+t+e.horizontalPadding<=e.idealRowWidth}var i=this.getShortestRowIndex(e);if(i<0){return!0}var a=e.rowWidth[i];if(a+e.horizontalPadding+t<=e.width)return!0;var s=0;e.rowHeight[i]<o&&(i>0&&(s=o+e.verticalPadding-e.rowHeight[i]));var d;if(e.width-a>=t+e.horizontalPadding){d=(e.height+s)/(a+t+e.horizontalPadding)}else{d=(e.height+s)/e.width}s=o+e.verticalPadding;var l;if(e.width<t){l=(e.height+s)/t}else{l=(e.height+s)/e.width}l<1&&(l=1/l);d<1&&(d=1/d);return d<l};L.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e);var o=e.rowWidth.length-1;var r=e.rows[t];var n=r[r.length-1];var i=n.width+e.horizontalPadding;if(e.width-e.rowWidth[o]>i&&t!=o){r.splice(-1,1);e.rows[o].push(n);e.rowWidth[t]=e.rowWidth[t]-i;e.rowWidth[o]=e.rowWidth[o]+i;e.width=e.rowWidth[instance.getLongestRowIndex(e)];var a=Number.MIN_VALUE;for(var s=0;s<r.length;s++){r[s].height>a&&(a=r[s].height)}t>0&&(a+=e.verticalPadding);var d=e.rowHeight[t]+e.rowHeight[o];e.rowHeight[t]=a;e.rowHeight[o]<n.height+e.verticalPadding&&(e.rowHeight[o]=n.height+e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[o];e.height+=l-d;this.shiftToLastRow(e)}};L.prototype.tilingPreLayout=function(){if(l.TILE){this.groupZeroDegreeMembers();this.clearCompounds();this.clearZeroDegreeMembers()}};L.prototype.tilingPostLayout=function(){if(l.TILE){this.repopulateZeroDegreeMembers();this.repopulateCompounds()}};L.prototype.reduceTrees=function(){var e=[];var t=!0;var o;while(t){var r=this.graphManager.getAllNodes(),n=[];t=!1;for(var i=0;i<r.length;i++){o=r[i];if(o.getEdges().length==1&&!o.getEdges()[0].isInterGraph&&o.getChild()==null){if(l.PURE_INCREMENTAL){var a=o.getEdges()[0].getOtherEnd(o),s=new f(o.getCenterX()-a.getCenterX(),o.getCenterY()-a.getCenterY());n.push([o,o.getEdges()[0],o.getOwner(),s])}else{n.push([o,o.getEdges()[0],o.getOwner()])}t=!0}}if(t==!0){var d=[];for(var h=0;h<n.length;h++){if(n[h][0].getEdges().length==1){d.push(n[h]);n[h][0].getOwner().remove(n[h][0])}}e.push(d);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()}}this.prunedNodesAll=e};L.prototype.growTree=function(e){var t=e.length;var o=e[t-1];var r;for(var n=0;n<o.length;n++){r=o[n];this.findPlaceforPrunedNode(r);r[2].add(r[0]);r[2].add(r[1],r[1].source,r[1].target)}e.splice(e.length-1,1);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()};L.prototype.findPlaceforPrunedNode=function(e){var t;var o;var r=e[0];if(r==e[1].source){o=e[1].target}else{o=e[1].source}if(l.PURE_INCREMENTAL){r.setCenter(o.getCenterX()+e[3].getWidth(),o.getCenterY()+e[3].getHeight())}else{var n=o.startX,i=o.finishX,a=o.startY,s=o.finishY,d=0,h=0,u=0,p=0,g=[d,u,h,p];if(a>0){for(var f=n;f<=i;f++){g[0]+=this.grid[f][a-1].length+this.grid[f][a].length-1}}if(i<this.grid.length-1){for(var f=a;f<=s;f++){g[1]+=this.grid[i+1][f].length+this.grid[i][f].length-1}}if(s<this.grid[0].length-1){for(var f=n;f<=i;f++){g[2]+=this.grid[f][s+1].length+this.grid[f][s].length-1}}if(n>0){for(var f=a;f<=s;f++){g[3]+=this.grid[n-1][f].length+this.grid[n][f].length-1}}var _=m.MAX_VALUE,v,y;for(var N=0;N<g.length;N++){if(g[N]<_){_=g[N];v=1;y=N}else g[N]==_&&v++}if(v==3&&_==0){if(g[0]==0&&g[1]==0&&g[2]==0){t=1}else if(g[0]==0&&g[1]==0&&g[3]==0){t=0}else if(g[0]==0&&g[2]==0&&g[3]==0){t=3}else g[1]==0&&g[2]==0&&g[3]==0&&(t=2)}else if(v==2&&_==0){var C=Math.floor(Math.random()*2);if(g[0]==0&&g[1]==0){if(C==0){t=0}else{t=1}}else if(g[0]==0&&g[2]==0){if(C==0){t=0}else{t=2}}else if(g[0]==0&&g[3]==0){if(C==0){t=0}else{t=3}}else if(g[1]==0&&g[2]==0){if(C==0){t=1}else{t=2}}else if(g[1]==0&&g[3]==0){if(C==0){t=1}else{t=3}}else{if(C==0){t=2}else{t=3}}}else if(v==4&&_==0){var C=Math.floor(Math.random()*4);t=C}else{t=y}if(t==0){r.setCenter(o.getCenterX(),o.getCenterY()-o.getHeight()/2-c.DEFAULT_EDGE_LENGTH-r.getHeight()/2)}else if(t==1){r.setCenter(o.getCenterX()+o.getWidth()/2+c.DEFAULT_EDGE_LENGTH+r.getWidth()/2,o.getCenterY())}else if(t==2){r.setCenter(o.getCenterX(),o.getCenterY()+o.getHeight()/2+c.DEFAULT_EDGE_LENGTH+r.getHeight()/2)}else{r.setCenter(o.getCenterX()-o.getWidth()/2-c.DEFAULT_EDGE_LENGTH-r.getWidth()/2,o.getCenterY())}}};t.exports=L},991:(e,t,o)=>{var r=o(551).FDLayoutNode;var n=o(551).IMath;function i(e,t,o,n){r.call(this,e,t,o,n)}i.prototype=Object.create(r.prototype);for(var a in r){i[a]=r[a]}i.prototype.calculateDisplacement=function(){var e=this.graphManager.getLayout();if(this.getChild()!=null&&this.fixedNodeWeight){this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight;this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight}else{this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren;this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren}Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*n.sign(this.displacementX));Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*n.sign(this.displacementY));this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)};i.prototype.propogateDisplacementToChildren=function(e,t){var o=this.getChild().getNodes();var r;for(var n=0;n<o.length;n++){r=o[n];if(r.getChild()==null){r.displacementX+=e;r.displacementY+=t}else{r.propogateDisplacementToChildren(e,t)}}};i.prototype.move=function(){var e=this.graphManager.getLayout();if(this.child==null||this.child.getNodes().length==0){this.moveBy(this.displacementX,this.displacementY);e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.springForceX=0;this.springForceY=0;this.repulsionForceX=0;this.repulsionForceY=0;this.gravitationForceX=0;this.gravitationForceY=0;this.displacementX=0;this.displacementY=0};i.prototype.setPred1=function(e){this.pred1=e};i.prototype.getPred1=function(){return pred1};i.prototype.getPred2=function(){return pred2};i.prototype.setNext=function(e){this.next=e};i.prototype.getNext=function(){return next};i.prototype.setProcessed=function(e){this.processed=e};i.prototype.isProcessed=function(){return processed};e.exports=i},902:(t,o,r)=>{function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++){o[t]=e[t]}return o}else{return Array.from(e)}}var i=r(806);var a=r(551).LinkedList;var s=r(551).Matrix
var d=r(551).SVD;function l(){}l.handleConstraints=function(t){var o={};o.fixedNodeConstraint=t.constraints.fixedNodeConstraint;o.alignmentConstraint=t.constraints.alignmentConstraint;o.relativePlacementConstraint=t.constraints.relativePlacementConstraint;var r=new Map;var l=new Map;var h=[];var c=[];var u=t.getAllNodes();var p=0;for(var g=0;g<u.length;g++){var f=u[g];if(f.getChild()==null){l.set(f.id,p++);h.push(f.getCenterX());c.push(f.getCenterY());r.set(f.id,f)}}o.relativePlacementConstraint&&o.relativePlacementConstraint.forEach(function(e){if(!e.gap&&e.gap!=0){if(e.left){e.gap=i.DEFAULT_EDGE_LENGTH+r.get(e.left).getWidth()/2+r.get(e.right).getWidth()/2}else{e.gap=i.DEFAULT_EDGE_LENGTH+r.get(e.top).getHeight()/2+r.get(e.bottom).getHeight()/2}}});var _=function e(t,o){return{x:t.x-o.x,y:t.y-o.y}};var m=function e(t){var o=0;var r=0;t.forEach(function(e){o+=h[l.get(e)];r+=c[l.get(e)]});return{x:o/t.size,y:r/t.size}};var v=function t(o,r,i,s,d){function u(t,o){var r=new Set(t);var n=!0;var i=!1;var a=e;try{for(var s=o[Symbol.iterator](),d;!(n=(d=s.next()).done);n=!0){var l=d.value;r.add(l)}}catch(e){i=!0;a=e}finally{try{if(!n&&s.return){s.return()}}finally{if(i){throw a}}}return r}var p=new Map;o.forEach(function(e,t){p.set(t,0)});o.forEach(function(e,t){e.forEach(function(e){p.set(e.id,p.get(e.id)+1)})});var g=new Map;var f=new Map;var _=new a;p.forEach(function(e,t){if(e==0){_.push(t);if(!i){if(r=="horizontal"){g.set(t,l.has(t)?h[l.get(t)]:s.get(t))}else{g.set(t,l.has(t)?c[l.get(t)]:s.get(t))}}}else{g.set(t,Number.NEGATIVE_INFINITY)}i&&f.set(t,new Set([t]))});i&&d.forEach(function(e){var t=[];e.forEach(function(e){i.has(e)&&t.push(e)});if(t.length>0){var o=0;t.forEach(function(e){if(r=="horizontal"){g.set(e,l.has(e)?h[l.get(e)]:s.get(e));o+=g.get(e)}else{g.set(e,l.has(e)?c[l.get(e)]:s.get(e));o+=g.get(e)}});o=o/t.length;e.forEach(function(e){i.has(e)||g.set(e,o)})}else{var n=0;e.forEach(function(e){if(r=="horizontal"){n+=l.has(e)?h[l.get(e)]:s.get(e)}else{n+=l.has(e)?c[l.get(e)]:s.get(e)}});n=n/e.length;e.forEach(function(e){g.set(e,n)})}});var m=function e(){var t=_.shift();var n=o.get(t);n.forEach(function(e){if(g.get(e.id)<g.get(t)+e.gap){if(i&&i.has(e.id)){var o=void 0;if(r=="horizontal"){o=l.has(e.id)?h[l.get(e.id)]:s.get(e.id)}else{o=l.has(e.id)?c[l.get(e.id)]:s.get(e.id)}g.set(e.id,o);if(o<g.get(t)+e.gap){var n=g.get(t)+e.gap-o;f.get(t).forEach(function(e){g.set(e,g.get(e)-n)})}}else{g.set(e.id,g.get(t)+e.gap)}}p.set(e.id,p.get(e.id)-1);p.get(e.id)==0&&_.push(e.id);i&&f.set(e.id,u(f.get(t),f.get(e.id)))})};while(_.length!=0){m()}if(i){var v=new Set;o.forEach(function(e,t){e.length==0&&v.add(t)});var y=[];f.forEach(function(t,o){if(v.has(o)){var r=!1,a=!0,s=!1,d=e;try{for(var l=t[Symbol.iterator](),h;!(a=(h=l.next()).done);a=!0){var c=h.value;i.has(c)&&(r=!0)}}catch(e){s=!0;d=e}finally{try{if(!a&&l.return){l.return()}}finally{if(s){throw d}}}if(!r){var u=!1,p=void 0;y.forEach(function(e,o){if(e.has([].concat(n(t))[0])){u=!0;p=o}});if(!u){y.push(new Set(t))}else{t.forEach(function(e){y[p].add(e)})}}}});y.forEach(function(t,o){var n=Number.POSITIVE_INFINITY;var i=Number.POSITIVE_INFINITY;var a=Number.NEGATIVE_INFINITY;var d=Number.NEGATIVE_INFINITY;var u=!0;var p=!1;var f=e;try{for(var _=t[Symbol.iterator](),m;!(u=(m=_.next()).done);u=!0){var v=m.value,y=void 0;if(r=="horizontal"){y=l.has(v)?h[l.get(v)]:s.get(v)}else{y=l.has(v)?c[l.get(v)]:s.get(v)}var N=g.get(v);y<n&&(n=y);y>a&&(a=y);N<i&&(i=N);N>d&&(d=N)}}catch(e){p=!0;f=e}finally{try{if(!u&&_.return){_.return()}}finally{if(p){throw f}}}var C=(n+a)/2-(i+d)/2;var L=!0;var E=!1;var x=e;try{for(var A=t[Symbol.iterator](),I;!(L=(I=A.next()).done);L=!0){var b=I.value;g.set(b,g.get(b)+C)}}catch(e){E=!0;x=e}finally{try{if(!L&&A.return){A.return()}}finally{if(E){throw x}}}})}return g};var y=function e(t){var o=0,r=0;var n=0,i=0;t.forEach(function(e){if(e.left){h[l.get(e.left)]-h[l.get(e.right)]>=0?o++:r++}else{c[l.get(e.top)]-c[l.get(e.bottom)]>=0?n++:i++}});if(o>r&&n>i){for(var a=0;a<l.size;a++){h[a]=-1*h[a];c[a]=-1*c[a]}}else if(o>r){for(var s=0;s<l.size;s++){h[s]=-1*h[s]}}else if(n>i){for(var d=0;d<l.size;d++){c[d]=-1*c[d]}}};var N=function e(t){var o=[];var r=new a;var n=new Set;var i=0;t.forEach(function(e,a){if(!n.has(a)){o[i]=[];var s=a;r.push(s);n.add(s);o[i].push(s);while(r.length!=0){s=r.shift();var d=t.get(s);d.forEach(function(e){if(!n.has(e.id)){r.push(e.id);n.add(e.id);o[i].push(e.id)}})}i++}});return o};var C=function e(t){var o=new Map;t.forEach(function(e,t){o.set(t,[])});t.forEach(function(e,t){e.forEach(function(e){o.get(t).push(e);o.get(e.id).push({id:t,gap:e.gap,direction:e.direction})})});return o};var L=function e(t){var o=new Map;t.forEach(function(e,t){o.set(t,[])});t.forEach(function(e,t){e.forEach(function(e){o.get(e.id).push({id:t,gap:e.gap,direction:e.direction})})});return o};var E=[];var x=[];var A=!1;var I=!1;var b=new Set;var w=new Map;var T=new Map;var D=[];o.fixedNodeConstraint&&o.fixedNodeConstraint.forEach(function(e){b.add(e.nodeId)});if(o.relativePlacementConstraint){o.relativePlacementConstraint.forEach(function(e){if(e.left){if(w.has(e.left)){w.get(e.left).push({id:e.right,gap:e.gap,direction:"horizontal"})}else{w.set(e.left,[{id:e.right,gap:e.gap,direction:"horizontal"}])}w.has(e.right)||w.set(e.right,[])}else{if(w.has(e.top)){w.get(e.top).push({id:e.bottom,gap:e.gap,direction:"vertical"})}else{w.set(e.top,[{id:e.bottom,gap:e.gap,direction:"vertical"}])}w.has(e.bottom)||w.set(e.bottom,[])}});T=C(w);D=N(T)}if(i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(o.fixedNodeConstraint&&o.fixedNodeConstraint.length>1){o.fixedNodeConstraint.forEach(function(e,t){E[t]=[e.position.x,e.position.y];x[t]=[h[l.get(e.nodeId)],c[l.get(e.nodeId)]]});A=!0}else if(o.alignmentConstraint){(function(){var e=0;if(o.alignmentConstraint.vertical){var t=o.alignmentConstraint.vertical,r=function o(r){var i=new Set;t[r].forEach(function(e){i.add(e)});var a=new Set([].concat(n(i)).filter(function(e){return b.has(e)}));var s=void 0;if(a.size>0)s=h[l.get(a.values().next().value)];else s=m(i).x;t[r].forEach(function(t){E[e]=[s,c[l.get(t)]];x[e]=[h[l.get(t)],c[l.get(t)]];e++})};for(var i=0;i<t.length;i++){r(i)}A=!0}if(o.alignmentConstraint.horizontal){var a=o.alignmentConstraint.horizontal,s=function t(o){var r=new Set;a[o].forEach(function(e){r.add(e)});var i=new Set([].concat(n(r)).filter(function(e){return b.has(e)}));var s=void 0;if(i.size>0)s=h[l.get(i.values().next().value)];else s=m(r).y;a[o].forEach(function(t){E[e]=[h[l.get(t)],s];x[e]=[h[l.get(t)],c[l.get(t)]];e++})};for(var d=0;d<a.length;d++){s(d)}A=!0}o.relativePlacementConstraint&&(I=!0)})()}else if(o.relativePlacementConstraint){var M=0,O=0;for(var k=0;k<D.length;k++){if(D[k].length>M){M=D[k].length;O=k}}if(M<T.size/2){y(o.relativePlacementConstraint);A=!1;I=!1}else{var G=new Map,F=new Map,P=[];D[O].forEach(function(e){w.get(e).forEach(function(t){if(t.direction=="horizontal"){if(G.has(e)){G.get(e).push(t)}else{G.set(e,[t])}G.has(t.id)||G.set(t.id,[]);P.push({left:e,right:t.id})}else{if(F.has(e)){F.get(e).push(t)}else{F.set(e,[t])}F.has(t.id)||F.set(t.id,[]);P.push({top:e,bottom:t.id})}})});y(P);I=!1;var R=v(G,"horizontal"),S=v(F,"vertical");D[O].forEach(function(e,t){x[t]=[h[l.get(e)],c[l.get(e)]];E[t]=[];if(R.has(e)){E[t][0]=R.get(e)}else{E[t][0]=h[l.get(e)]}if(S.has(e)){E[t][1]=S.get(e)}else{E[t][1]=c[l.get(e)]}});A=!0}}if(A){var j=void 0,z=s.transpose(E),B=s.transpose(x);for(var H=0;H<z.length;H++){z[H]=s.multGamma(z[H]);B[H]=s.multGamma(B[H])}var Y=s.multMat(z,s.transpose(B)),X=d.svd(Y);j=s.multMat(X.V,s.transpose(X.U));for(var V=0;V<l.size;V++){var q=[h[V],c[V]],U=[j[0][0],j[1][0]],W=[j[0][1],j[1][1]];h[V]=s.dotProduct(q,U);c[V]=s.dotProduct(q,W)}I&&y(o.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(o.fixedNodeConstraint&&o.fixedNodeConstraint.length>0){var Z={x:0,y:0};o.fixedNodeConstraint.forEach(function(e,t){var o={x:h[l.get(e.nodeId)],y:c[l.get(e.nodeId)]};var r=e.position;var n=_(r,o);Z.x+=n.x;Z.y+=n.y});Z.x/=o.fixedNodeConstraint.length;Z.y/=o.fixedNodeConstraint.length;h.forEach(function(e,t){h[t]+=Z.x});c.forEach(function(e,t){c[t]+=Z.y});o.fixedNodeConstraint.forEach(function(e){h[l.get(e.nodeId)]=e.position.x;c[l.get(e.nodeId)]=e.position.y})}if(o.alignmentConstraint){if(o.alignmentConstraint.vertical){var Q=o.alignmentConstraint.vertical,K=function e(t){var o=new Set;Q[t].forEach(function(e){o.add(e)});var r=new Set([].concat(n(o)).filter(function(e){return b.has(e)}));var i=void 0;if(r.size>0)i=h[l.get(r.values().next().value)];else i=m(o).x;o.forEach(function(e){b.has(e)||(h[l.get(e)]=i)})};for(var $=0;$<Q.length;$++){K($)}}if(o.alignmentConstraint.horizontal){var J=o.alignmentConstraint.horizontal,ee=function e(t){var o=new Set;J[t].forEach(function(e){o.add(e)});var r=new Set([].concat(n(o)).filter(function(e){return b.has(e)}));var i=void 0;if(r.size>0)i=c[l.get(r.values().next().value)];else i=m(o).y;o.forEach(function(e){b.has(e)||(c[l.get(e)]=i)})};for(var te=0;te<J.length;te++){ee(te)}}}o.relativePlacementConstraint&&function(){var t=new Map;var r=new Map;var n=new Map;var i=new Map;var a=new Map;var s=new Map;var d=new Set;var u=new Set;b.forEach(function(e){d.add(e);u.add(e)});if(o.alignmentConstraint){if(o.alignmentConstraint.vertical){var p=o.alignmentConstraint.vertical,g=function e(o){n.set("dummy"+o,[]);p[o].forEach(function(e){t.set(e,"dummy"+o);n.get("dummy"+o).push(e);b.has(e)&&d.add("dummy"+o)});a.set("dummy"+o,h[l.get(p[o][0])])};for(var f=0;f<p.length;f++){g(f)}}if(o.alignmentConstraint.horizontal){var _=o.alignmentConstraint.horizontal,m=function e(t){i.set("dummy"+t,[]);_[t].forEach(function(e){r.set(e,"dummy"+t);i.get("dummy"+t).push(e);b.has(e)&&u.add("dummy"+t)});s.set("dummy"+t,c[l.get(_[t][0])])};for(var y=0;y<_.length;y++){m(y)}}}var E=new Map;var x=new Map;var A=function e(o){w.get(o).forEach(function(e){var n=void 0;var i=void 0;if(e["direction"]=="horizontal"){n=t.get(o)?t.get(o):o;if(t.get(e.id)){i={id:t.get(e.id),gap:e.gap,direction:e.direction}}else{i=e}if(E.has(n)){E.get(n).push(i)}else{E.set(n,[i])}E.has(i.id)||E.set(i.id,[])}else{n=r.get(o)?r.get(o):o;if(r.get(e.id)){i={id:r.get(e.id),gap:e.gap,direction:e.direction}}else{i=e}if(x.has(n)){x.get(n).push(i)}else{x.set(n,[i])}x.has(i.id)||x.set(i.id,[])}})};var I=!0;var T=!1;var D=e;try{for(var M=w.keys()[Symbol.iterator](),O;!(I=(O=M.next()).done);I=!0){var k=O.value;A(k)}}catch(e){T=!0;D=e}finally{try{if(!I&&M.return){M.return()}}finally{if(T){throw D}}}var G=C(E);var F=C(x);var P=N(G);var R=N(F);var S=L(E);var j=L(x);var z=[];var B=[];P.forEach(function(e,t){z[t]=[];e.forEach(function(e){S.get(e).length==0&&z[t].push(e)})});R.forEach(function(e,t){B[t]=[];e.forEach(function(e){j.get(e).length==0&&B[t].push(e)})});var H=v(E,"horizontal",d,a,z);var Y=v(x,"vertical",u,s,B);var X=function e(t){if(n.get(t)){n.get(t).forEach(function(e){h[l.get(e)]=H.get(t)})}else{h[l.get(t)]=H.get(t)}};var V=!0;var q=!1;var U=e;try{for(var W=H.keys()[Symbol.iterator](),Z;!(V=(Z=W.next()).done);V=!0){var Q=Z.value;X(Q)}}catch(e){q=!0;U=e}finally{try{if(!V&&W.return){W.return()}}finally{if(q){throw U}}}var K=function e(t){if(i.get(t)){i.get(t).forEach(function(e){c[l.get(e)]=Y.get(t)})}else{c[l.get(t)]=Y.get(t)}};var $=!0;var J=!1;var ee=e;try{for(var te=Y.keys()[Symbol.iterator](),oe;!($=(oe=te.next()).done);$=!0){var Q=oe.value;K(Q)}}catch(e){J=!0;ee=e}finally{try{if(!$&&te.return){te.return()}}finally{if(J){throw ee}}}}()}for(var oe=0;oe<u.length;oe++){var re=u[oe];re.getChild()==null&&re.setCenter(h[l.get(re.id)],c[l.get(re.id)])}};t.exports=l},551:e=>{e.exports=t}};var r={};function n(t){var i=r[t];if(i!==e){return i.exports}var a=r[t]={exports:{}};o[t](a,a.exports,n);return a.exports}var i=n(45);return i})()});return t(n.exports)}).call(window);__bbb.bc=r;__bbb.g=undefined}).call(this)