(function(e){"use strict";var t=function(e,t,n){typeof t==="symbol"&&(t=t.description?"[".concat(t.description,"]"):"");return Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})};var n=__bbb.Mb;var i=__bbb.Nb;var s=__bbb.ac;var o=__bbb.ed;var a=__bbb.gc;var r=__bbb.pe;var c=__bbb.Cc;var d=__bbb.Dc;var l=__bbb.Ec;var h=__bbb.Fc;var _=__bbb.me;var u=__bbb.ne;var y=__bbb.oe;var p=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function g(e){return typeof e==="string"&&p.test(e)}function f(e){if(!g(e)){throw TypeError("Invalid UUID")}let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,t&255,(t=parseInt(e.slice(9,13),16))>>>8,t&255,(t=parseInt(e.slice(14,18),16))>>>8,t&255,(t=parseInt(e.slice(19,23),16))>>>8,t&255,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255)}const b=[];for(let e=0;e<256;++e){b.push((e+256).toString(16).slice(1))}function m(e,t=0){return(b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]).toLowerCase()}let k;const x=new Uint8Array(16);function $(){if(!k){if(typeof crypto==="undefined"||!crypto.getRandomValues){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}k=crypto.getRandomValues.bind(crypto)}return k(x)}function v(e){const t=N(e);const n=D(t,e.length*8);return E(n)}function E(e){const t=new Uint8Array(e.length*4);for(let n=0;n<e.length*4;n++){t[n]=e[n>>2]>>>n%4*8&255}return t}function S(e){return(e+64>>>9<<4)+14+1}function D(e,t){const n=new Uint32Array(S(t)).fill(0);n.set(e);n[t>>5]|=128<<t%32;n[n.length-1]=t;e=n;let i=1732584193;let s=-271733879;let o=-1732584194;let a=271733878;for(let t=0;t<e.length;t+=16){let n=i,r=s,c=o,d=a;i=L(i,s,o,a,e[t],7,-680876936);a=L(a,i,s,o,e[t+1],12,-389564586);o=L(o,a,i,s,e[t+2],17,606105819);s=L(s,o,a,i,e[t+3],22,-1044525330);i=L(i,s,o,a,e[t+4],7,-176418897);a=L(a,i,s,o,e[t+5],12,1200080426);o=L(o,a,i,s,e[t+6],17,-1473231341);s=L(s,o,a,i,e[t+7],22,-45705983);i=L(i,s,o,a,e[t+8],7,1770035416);a=L(a,i,s,o,e[t+9],12,-1958414417);o=L(o,a,i,s,e[t+10],17,-42063);s=L(s,o,a,i,e[t+11],22,-1990404162);i=L(i,s,o,a,e[t+12],7,1804603682);a=L(a,i,s,o,e[t+13],12,-40341101);o=L(o,a,i,s,e[t+14],17,-1502002290);s=L(s,o,a,i,e[t+15],22,1236535329);i=H(i,s,o,a,e[t+1],5,-165796510);a=H(a,i,s,o,e[t+6],9,-1069501632);o=H(o,a,i,s,e[t+11],14,643717713);s=H(s,o,a,i,e[t],20,-373897302);i=H(i,s,o,a,e[t+5],5,-701558691);a=H(a,i,s,o,e[t+10],9,38016083);o=H(o,a,i,s,e[t+15],14,-660478335);s=H(s,o,a,i,e[t+4],20,-405537848);i=H(i,s,o,a,e[t+9],5,568446438);a=H(a,i,s,o,e[t+14],9,-1019803690);o=H(o,a,i,s,e[t+3],14,-187363961);s=H(s,o,a,i,e[t+8],20,1163531501);i=H(i,s,o,a,e[t+13],5,-1444681467);a=H(a,i,s,o,e[t+2],9,-51403784);o=H(o,a,i,s,e[t+7],14,1735328473);s=H(s,o,a,i,e[t+12],20,-1926607734);i=B(i,s,o,a,e[t+5],4,-378558);a=B(a,i,s,o,e[t+8],11,-2022574463);o=B(o,a,i,s,e[t+11],16,1839030562);s=B(s,o,a,i,e[t+14],23,-35309556);i=B(i,s,o,a,e[t+1],4,-1530992060);a=B(a,i,s,o,e[t+4],11,1272893353);o=B(o,a,i,s,e[t+7],16,-155497632);s=B(s,o,a,i,e[t+10],23,-1094730640);i=B(i,s,o,a,e[t+13],4,681279174);a=B(a,i,s,o,e[t],11,-358537222);o=B(o,a,i,s,e[t+3],16,-722521979);s=B(s,o,a,i,e[t+6],23,76029189);i=B(i,s,o,a,e[t+9],4,-640364487);a=B(a,i,s,o,e[t+12],11,-421815835);o=B(o,a,i,s,e[t+15],16,530742520);s=B(s,o,a,i,e[t+2],23,-995338651);i=V(i,s,o,a,e[t],6,-198630844);a=V(a,i,s,o,e[t+7],10,1126891415);o=V(o,a,i,s,e[t+14],15,-1416354905);s=V(s,o,a,i,e[t+5],21,-57434055);i=V(i,s,o,a,e[t+12],6,1700485571);a=V(a,i,s,o,e[t+3],10,-1894986606);o=V(o,a,i,s,e[t+10],15,-1051523);s=V(s,o,a,i,e[t+1],21,-2054922799);i=V(i,s,o,a,e[t+8],6,1873313359);a=V(a,i,s,o,e[t+15],10,-30611744);o=V(o,a,i,s,e[t+6],15,-1560198380);s=V(s,o,a,i,e[t+13],21,1309151649);i=V(i,s,o,a,e[t+4],6,-145523070);a=V(a,i,s,o,e[t+11],10,-1120210379);o=V(o,a,i,s,e[t+2],15,718787259);s=V(s,o,a,i,e[t+9],21,-343485551);i=A(i,n);s=A(s,r);o=A(o,c);a=A(a,d)}return Uint32Array.of(i,s,o,a)}function N(e){if(e.length===0){return new Uint32Array}const t=new Uint32Array(S(e.length*8)).fill(0);for(let n=0;n<e.length;n++){t[n>>2]|=(e[n]&255)<<n%4*8}return t}function A(e,t){const n=(e&65535)+(t&65535);const i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function R(e,t){return e<<t|e>>>32-t}function T(e,t,n,i,s,o){return A(R(A(A(t,e),A(i,o)),s),n)}function L(e,t,n,i,s,o,a){return T(t&n|~t&i,e,t,s,o,a)}function H(e,t,n,i,s,o,a){return T(t&i|n&~i,e,t,s,o,a)}function B(e,t,n,i,s,o,a){return T(t^n^i,e,t,s,o,a)}function V(e,t,n,i,s,o,a){return T(n^(t|~i),e,t,s,o,a)}function O(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n){t[n]=e.charCodeAt(n)}return t}var C="6ba7b810-9dad-11d1-80b4-00c04fd430c8";var w="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function I(e,t,n,i,s,o){const a=typeof n==="string"?O(n):n;const r=typeof i==="string"?f(i):i;typeof i==="string"&&(i=f(i));if((i===null||i===void 0?void 0:i.length)!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let c=new Uint8Array(16+a.length);c.set(r);c.set(a,r.length);c=t(c);c[6]=c[6]&15|e;c[8]=c[8]&63|128;if(s){o=o||0;for(let e=0;e<16;++e){s[o+e]=c[e]}return s}return m(c)}function U(e,t,n,i){return I(48,v,e,t,n,i)}U.DNS=C;U.URL=w;const F=typeof crypto!=="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var J={randomUUID:F};function G(e,t,n){var i,s,o;if(J.randomUUID&&!t&&!e){return J.randomUUID()}e=e||{};const a=(o=(i=e.random)!==null&&i!==void 0?i:(s=e.rng)===null||s===void 0?void 0:s.call(e))!==null&&o!==void 0?o:$();if(a.length<16){throw new Error("Random bytes length must be >= 16")}a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(t){n=n||0;if(n<0||n+16>t.length){throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`)}for(let e=0;e<16;++e){t[n+e]=a[e]}return t}return m(a)}function P(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function M(e,t){return e<<t|e>>>32-t}function j(e){const t=[1518500249,1859775393,2400959708,3395469782];const n=[1732584193,4023233417,2562383102,271733878,3285377520];const i=new Uint8Array(e.length+1);i.set(e);i[e.length]=128;e=i;const s=e.length/4+2;const o=Math.ceil(s/16);const a=new Array(o);for(let t=0;t<o;++t){let n=new Uint32Array(16);for(let i=0;i<16;++i){n[i]=e[t*64+i*4]<<24|e[t*64+i*4+1]<<16|e[t*64+i*4+2]<<8|e[t*64+i*4+3]}a[t]=n}a[o-1][14]=(e.length-1)*8/Math.pow(2,32);a[o-1][14]=Math.floor(a[o-1][14]);a[o-1][15]=(e.length-1)*8&4294967295;for(let e=0;e<o;++e){let i=new Uint32Array(80);for(let t=0;t<16;++t){i[t]=a[e][t]}for(let e=16;e<80;++e){i[e]=M(i[e-3]^i[e-8]^i[e-14]^i[e-16],1)}let s=n[0],o=n[1],r=n[2],c=n[3],d=n[4];for(let e=0;e<80;++e){let n=Math.floor(e/20),a=M(s,5)+P(n,o,r,c)+d+t[n]+i[e]>>>0;d=c;c=r;r=M(o,30)>>>0;o=s;s=a}n[0]=n[0]+s>>>0;n[1]=n[1]+o>>>0;n[2]=n[2]+r>>>0;n[3]=n[3]+c>>>0;n[4]=n[4]+d>>>0}return Uint8Array.of(n[0]>>24,n[0]>>16,n[0]>>8,n[0],n[1]>>24,n[1]>>16,n[1]>>8,n[1],n[2]>>24,n[2]>>16,n[2]>>8,n[2],n[3]>>24,n[3]>>16,n[3]>>8,n[3],n[4]>>24,n[4]>>16,n[4]>>8,n[4])}function Y(e,t,n,i){return I(80,j,e,t,n,i)}Y.DNS=C;Y.URL=w;var K;var Z=function(){var e=n(function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},"o"),t=[1,4],i=[1,13],s=[1,12],o=[1,15],a=[1,16],r=[1,20],c=[1,19],d=[6,7,8],l=[1,26],h=[1,24],_=[1,25],u=[6,7,11],y=[1,6,13,15,16,19,22],p=[1,33],g=[1,34],f=[1,6,7,11,13,15,16,19,22];var b={trace:n(function e(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:n(function e(t,n,i,s,o,a,r){var c=a.length-1;switch(o){case 6:case 7:return s;break;case 8:s.getLogger().trace("Stop NL ");break;case 9:s.getLogger().trace("Stop EOF ");break;case 11:s.getLogger().trace("Stop NL2 ");break;case 12:s.getLogger().trace("Stop EOF2 ");break;case 15:s.getLogger().info("Node: ",a[c].id);s.addNode(a[c-1].length,a[c].id,a[c].descr,a[c].type);break;case 16:s.getLogger().trace("Icon: ",a[c]);s.decorateNode({icon:a[c]});break;case 17:case 21:s.decorateNode({class:a[c]});break;case 18:s.getLogger().trace("SPACELIST");break;case 19:s.getLogger().trace("Node: ",a[c].id);s.addNode(0,a[c].id,a[c].descr,a[c].type);break;case 20:s.decorateNode({icon:a[c]});break;case 25:s.getLogger().trace("node found ..",a[c-2]);this.$={id:a[c-1],descr:a[c-1],type:s.getType(a[c-2],a[c])};break;case 26:this.$={id:a[c],descr:a[c],type:s.nodeType.DEFAULT};break;case 27:s.getLogger().trace("node found ..",a[c-3]);this.$={id:a[c-3],descr:a[c-1],type:s.getType(a[c-2],a[c])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:i,7:[1,10],9:9,12:11,13:s,14:14,15:o,16:a,17:17,18:18,19:r,22:c},e(d,[2,3]),{1:[2,2]},e(d,[2,4]),e(d,[2,5]),{1:[2,6],6:i,12:21,13:s,14:14,15:o,16:a,17:17,18:18,19:r,22:c},{6:i,9:22,12:11,13:s,14:14,15:o,16:a,17:17,18:18,19:r,22:c},{6:l,7:h,10:23,11:_},e(u,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:r,22:c}),e(u,[2,18]),e(u,[2,19]),e(u,[2,20]),e(u,[2,21]),e(u,[2,23]),e(u,[2,24]),e(u,[2,26],{19:[1,30]}),{20:[1,31]},{6:l,7:h,10:32,11:_},{1:[2,7],6:i,12:21,13:s,14:14,15:o,16:a,17:17,18:18,19:r,22:c},e(y,[2,14],{7:p,11:g}),e(f,[2,8]),e(f,[2,9]),e(f,[2,10]),e(u,[2,15]),e(u,[2,16]),e(u,[2,17]),{20:[1,35]},{21:[1,36]},e(y,[2,13],{7:p,11:g}),e(f,[2,11]),e(f,[2,12]),{21:[1,37]},e(u,[2,25]),e(u,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:n(function e(t,n){if(n.recoverable){this.trace(t)}else{var i=new Error(t);i.hash=n;throw i}},"parseError"),parse:n(function e(t){var i=this,s=[0],o=[],a=[null],r=[],c=this.table,d="",l=0,h=0,_=0,u=2,y=1;var p=r.slice.call(arguments,1);var g=Object.create(this.lexer);var f={yy:{}};for(var b in this.yy){Object.prototype.hasOwnProperty.call(this.yy,b)&&(f.yy[b]=this.yy[b])}g.setInput(t,f.yy);f.yy.lexer=g;f.yy.parser=this;typeof g.yylloc=="undefined"&&(g.yylloc={});var m=g.yylloc;r.push(m);var k=g.options&&g.options.ranges;if(typeof f.yy.parseError==="function"){this.parseError=f.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}function x(e){s.length=s.length-2*e;a.length=a.length-e;r.length=r.length-e}n(x,"popStack");function $(){var e;e=o.pop()||g.lex()||y;if(typeof e!=="number"){if(e instanceof Array){o=e;e=o.pop()}e=i.symbols_[e]||e}return e}n($,"lex");var v,E,S,D,N,A={},R,T,L,H;while(!0){S=s[s.length-1];if(this.defaultActions[S]){D=this.defaultActions[S]}else{(v===null||typeof v=="undefined")&&(v=$());D=c[S]&&c[S][v]}if(typeof D==="undefined"||!D.length||!D[0]){var B="";H=[];for(R in c[S]){this.terminals_[R]&&R>u&&H.push("'"+this.terminals_[R]+"'")}if(g.showPosition){B="Parse error on line "+(l+1)+":\n"+g.showPosition()+"\nExpecting "+H.join(", ")+", got '"+(this.terminals_[v]||v)+"'"}else{B="Parse error on line "+(l+1)+": Unexpected "+(v==y?"end of input":"'"+(this.terminals_[v]||v)+"'")}this.parseError(B,{text:g.match,token:this.terminals_[v]||v,line:g.yylineno,loc:m,expected:H})}if(D[0]instanceof Array&&D.length>1){throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+v)}switch(D[0]){case 1:s.push(v);a.push(g.yytext);r.push(g.yylloc);s.push(D[1]);v=null;if(!E){h=g.yyleng;d=g.yytext;l=g.yylineno;m=g.yylloc;_>0&&_--}else{v=E;E=null}break;case 2:T=this.productions_[D[1]][1];A.$=a[a.length-T];A._$={first_line:r[r.length-(T||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(T||1)].first_column,last_column:r[r.length-1].last_column};k&&(A._$.range=[r[r.length-(T||1)].range[0],r[r.length-1].range[1]]);N=this.performAction.apply(A,[d,h,l,f.yy,D[1],a,r].concat(p));if(typeof N!=="undefined"){return N}if(T){s=s.slice(0,-1*T*2);a=a.slice(0,-1*T);r=r.slice(0,-1*T)}s.push(this.productions_[D[1]][0]);a.push(A.$);r.push(A._$);L=c[s[s.length-2]][s[s.length-1]];s.push(L);break;case 3:return!0}}return!0},"parse")};var m=function(){var e={EOF:1,parseError:n(function e(t,n){if(this.yy.parser){this.yy.parser.parseError(t,n)}else{throw new Error(t)}},"parseError"),setInput:n(function(e,t){this.yy=t||this.yy||{};this._input=e;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},"setInput"),input:n(function(){var e=this._input[0];this.yytext+=e;this.yyleng++;this.offset++;this.match+=e;this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);if(t){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return e},"input"),unput:n(function(e){var t=e.length;var n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-t);this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t};this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-t]);this.yyleng=this.yytext.length;return this},"unput"),more:n(function(){this._more=!0;return this},"more"),reject:n(function(){if(this.options.backtrack_lexer){this._backtrack=!0}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}return this},"reject"),less:n(function(e){this.unput(this.match.slice(e))},"less"),pastInput:n(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:n(function(){var e=this.match;e.length<20&&(e+=this._input.substr(0,20-e.length));return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:n(function(){var e=this.pastInput();var t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},"showPosition"),test_match:n(function(e,t){var n,i,s;if(this.options.backtrack_lexer){s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))}i=e[0].match(/(?:\r\n?|\n).*/g);i&&(this.yylineno+=i.length);this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length};this.yytext+=e[0];this.match+=e[0];this.matches=e;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._backtrack=!1;this._input=this._input.slice(e[0].length);this.matched+=e[0];n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(n){return n}else if(this._backtrack){for(var o in s){this[o]=s[o]}return!1}return!1},"test_match"),next:n(function(){if(this.done){return this.EOF}this._input||(this.done=!0);var e,t,n,i;if(!this._more){this.yytext="";this.match=""}var s=this._currentRules();for(var o=0;o<s.length;o++){n=this._input.match(this.rules[s[o]]);if(n&&(!t||n[0].length>t[0].length)){t=n;i=o;if(this.options.backtrack_lexer){e=this.test_match(n,s[o]);if(e!==!1){return e}else if(this._backtrack){t=!1;continue}else{return!1}}else if(!this.options.flex){break}}}if(t){e=this.test_match(t,s[i]);if(e!==!1){return e}return!1}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},"next"),lex:n(function e(){var t=this.next();if(t){return t}else{return this.lex()}},"lex"),begin:n(function e(t){this.conditionStack.push(t)},"begin"),popState:n(function e(){var t=this.conditionStack.length-1;if(t>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},"popState"),_currentRules:n(function e(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions["INITIAL"].rules}},"_currentRules"),topState:n(function e(t){t=this.conditionStack.length-1-Math.abs(t||0);if(t>=0){return this.conditionStack[t]}else{return"INITIAL"}},"topState"),pushState:n(function e(t){this.begin(t)},"pushState"),stateStackSize:n(function e(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:n(function e(t,n,i,s){switch(i){case 0:t.getLogger().trace("Found comment",n.yytext);return 6;break;case 1:return 8;break;case 2:this.begin("CLASS");break;case 3:this.popState();return 16;break;case 4:this.popState();break;case 5:t.getLogger().trace("Begin icon");this.begin("ICON");break;case 6:t.getLogger().trace("SPACELINE");return 6;break;case 7:return 7;break;case 8:return 15;break;case 9:t.getLogger().trace("end icon");this.popState();break;case 10:t.getLogger().trace("Exploding node");this.begin("NODE");return 19;break;case 11:t.getLogger().trace("Cloud");this.begin("NODE");return 19;break;case 12:t.getLogger().trace("Explosion Bang");this.begin("NODE");return 19;break;case 13:t.getLogger().trace("Cloud Bang");this.begin("NODE");return 19;break;case 14:this.begin("NODE");return 19;break;case 15:this.begin("NODE");return 19;break;case 16:this.begin("NODE");return 19;break;case 17:this.begin("NODE");return 19;break;case 18:return 13;break;case 19:return 22;break;case 20:return 11;break;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";break;case 23:this.popState();break;case 24:t.getLogger().trace("Starting NSTR");this.begin("NSTR");break;case 25:t.getLogger().trace("description:",n.yytext);return"NODE_DESCR";break;case 26:this.popState();break;case 27:this.popState();t.getLogger().trace("node end ))");return"NODE_DEND";break;case 28:this.popState();t.getLogger().trace("node end )");return"NODE_DEND";break;case 29:this.popState();t.getLogger().trace("node end ...",n.yytext);return"NODE_DEND";break;case 30:this.popState();t.getLogger().trace("node end ((");return"NODE_DEND";break;case 31:this.popState();t.getLogger().trace("node end (-");return"NODE_DEND";break;case 32:this.popState();t.getLogger().trace("node end (-");return"NODE_DEND";break;case 33:this.popState();t.getLogger().trace("node end ((");return"NODE_DEND";break;case 34:this.popState();t.getLogger().trace("node end ((");return"NODE_DEND";break;case 35:t.getLogger().trace("Long description:",n.yytext);return 20;break;case 36:t.getLogger().trace("Long description:",n.yytext);return 20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return e}();b.lexer=m;function k(){this.yy={}}n(k,"Parser");k.prototype=b;b.Parser=k;return new k}();Z.parser=Z;var z={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6};var W=(K=class{constructor(){this.nodes=[];this.count=0;this.elements={};this.getLogger=this.getLogger.bind(this);this.nodeType=z;this.clear();this.getType=this.getType.bind(this);this.getElementById=this.getElementById.bind(this);this.getParent=this.getParent.bind(this);this.getMindmap=this.getMindmap.bind(this);this.addNode=this.addNode.bind(this);this.decorateNode=this.decorateNode.bind(this)}clear(){this.nodes=[];this.count=0;this.elements={}}getParent(e){for(let t=this.nodes.length-1;t>=0;t--){if(this.nodes[t].level<e){return this.nodes[t]}}return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(e,t,n,r){var c,d,l,h;i.info("addNode",e,t,n,r);const _=s();let u=(d=(c=_.mindmap)===null||c===void 0?void 0:c.padding)!==null&&d!==void 0?d:o.mindmap.padding;switch(r){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:u*=2;break}const y={id:this.count++,nodeId:a(t,_),level:e,descr:a(n,_),type:r,children:[],width:(h=(l=_.mindmap)===null||l===void 0?void 0:l.maxNodeWidth)!==null&&h!==void 0?h:o.mindmap.maxNodeWidth,padding:u};const p=this.getParent(e);if(p){p.children.push(y);this.nodes.push(y)}else{if(this.nodes.length===0){this.nodes.push(y)}else{throw new Error(`There can be only one root. No parent could be found for ("${y.descr}")`)}}}getType(e,t){i.debug("In get type",e,t);switch(e){case"[":return this.nodeType.RECT;case"(":return t===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(e,t){this.elements[e]=t}getElementById(e){return this.elements[e]}decorateNode(e){if(!e){return}const t=s();const n=this.nodes[this.nodes.length-1];if(e.icon){n.icon=a(e.icon,t)}if(e.class){n.class=a(e.class,t)}}type2Str(e){switch(e){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(e,t){if(e.level===0){e.section=void 0}else{e.section=t}if(e.children){for(const[n,i]of e.children.entries()){const s=e.level===0?n:t;this.assignSections(i,s)}}}flattenNodes(e,t){var i;const s=["mindmap-node"];if(e.level===0){s.push("section-root","section--1")}else if(e.section!==void 0){s.push(`section-${e.section}`)}if(e.class){s.push(e.class)}const o=s.join(" ");const a=n(e=>{switch(e){case z.CIRCLE:return"mindmapCircle";case z.RECT:return"rect";case z.ROUNDED_RECT:return"rounded";case z.CLOUD:return"cloud";case z.BANG:return"bang";case z.HEXAGON:return"hexagon";case z.DEFAULT:return"defaultMindmapNode";case z.NO_BORDER:default:return"rect"}},"getShapeFromType");const r={id:e.id.toString(),domId:"node_"+e.id.toString(),label:e.descr,isGroup:!1,shape:a(e.type),width:e.width,height:(i=e.height)!==null&&i!==void 0?i:0,padding:e.padding,cssClasses:o,cssStyles:[],look:"default",icon:e.icon,x:e.x,y:e.y,level:e.level,nodeId:e.nodeId,type:e.type,section:e.section};t.push(r);if(e.children){for(const n of e.children){this.flattenNodes(n,t)}}}generateEdges(e,t){if(!e.children){return}for(const n of e.children){let i="edge";if(n.section!==void 0){i+=` section-edge-${n.section}`}const s=e.level+1;i+=` edge-depth-${s}`;const o={id:`edge_${e.id}_${n.id}`,start:e.id.toString(),end:n.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:i,depth:e.level,section:n.section};t.push(o);this.generateEdges(n,t)}}getData(){const e=this.getMindmap();const t=s();const n=r();const o=n.layout!==void 0;const a=t;if(!o){a.layout="cose-bilkent"}if(!e){return{nodes:[],edges:[],config:a}}i.debug("getData: mindmapRoot",e,t);this.assignSections(e);const c=[];const d=[];this.flattenNodes(e,c);this.generateEdges(e,d);i.debug(`getData: processed ${c.length} nodes and ${d.length} edges`);const l=new Map;for(const e of c){l.set(e.id,{shape:e.shape,width:e.width,height:e.height,padding:e.padding})}return{nodes:c,edges:d,config:a,rootNode:e,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(l),type:"mindmap",diagramId:"mindmap-"+G()}}getLogger(){return i}},t(K,"MindmapDB"),(()=>{n(K,"MindmapDB")})(),K);var X=n(async(e,t,n,s)=>{var a,r,_,u;i.debug("Rendering mindmap diagram\n"+e);const y=s.db;const p=y.getData();const g=c(t,p.config.securityLevel);p.type=s.type;p.layoutAlgorithm=d(p.config.layout,{fallback:"cose-bilkent"});p.diagramId=t;const f=y.getMindmap();if(!f){return}p.nodes.forEach(e=>{if(e.shape==="rounded"){e.radius=15;e.taper=15;e.stroke="none";e.width=0;e.padding=15}else if(e.shape==="circle"){e.padding=10}else if(e.shape==="rect"){e.width=0;e.padding=10}});await l(p,g);h(g,(r=(a=p.config.mindmap)===null||a===void 0?void 0:a.padding)!==null&&r!==void 0?r:o.mindmap.padding,"mindmapDiagram",(u=(_=p.config.mindmap)===null||_===void 0?void 0:_.useMaxWidth)!==null&&u!==void 0?u:o.mindmap.useMaxWidth)},"draw");var Q={draw:X};var q=n(e=>{let t="";for(let t=0;t<e.THEME_COLOR_LIMIT;t++){e["lineColor"+t]=e["lineColor"+t]||e["cScaleInv"+t];if(_(e["lineColor"+t])){e["lineColor"+t]=u(e["lineColor"+t],20)}else{e["lineColor"+t]=y(e["lineColor"+t],20)}}for(let n=0;n<e.THEME_COLOR_LIMIT;n++){let i=""+(17-3*n);t+=`\n    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {\n      fill: ${e["cScale"+n]};\n    }\n    .section-${n-1} text {\n     fill: ${e["cScaleLabel"+n]};\n    }\n    .node-icon-${n-1} {\n      font-size: 40px;\n      color: ${e["cScaleLabel"+n]};\n    }\n    .section-edge-${n-1}{\n      stroke: ${e["cScale"+n]};\n    }\n    .edge-depth-${n-1}{\n      stroke-width: ${i};\n    }\n    .section-${n-1} line {\n      stroke: ${e["cScaleInv"+n]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return t},"genSections");var ee=n(e=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${q(e)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${e.git0};\n  }\n  .section-root text {\n    fill: ${e.gitBranchLabel0};\n  }\n  .section-root span {\n    color: ${e.gitBranchLabel0};\n  }\n  .section-2 span {\n    color: ${e.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`,"getStyles");var te={get db(){return new W},renderer:Q,parser:Z,styles:ee};var ne={diagram:te};__bbb.P=ne}).call(this)